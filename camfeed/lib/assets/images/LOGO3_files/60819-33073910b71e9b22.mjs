(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[60819],{477412:e=>{e.exports=function(e,n){for(var i=-1,t=null==e?0:e.length;++i<t&&!1!==n(e[i],i,e););return e}},744037:(e,n,i)=>{var t=i(698363),o=i(3674);e.exports=function(e,n){return e&&t(n,o(n),e)}},163886:(e,n,i)=>{var t=i(698363),o=i(481704);e.exports=function(e,n){return e&&t(n,o(n),e)}},285990:(e,n,i)=>{var t=i(646384),o=i(477412),r=i(234865),a=i(744037),s=i(163886),l=i(364626),d=i(200278),c=i(318805),u=i(201911),p=i(458234),m=i(946904),h=i(664160),g=i(43824),_=i(529148),f=i(738517),v=i(701469),x=i(644144),y=i(356688),b=i(513218),w=i(472928),T=i(3674),P=i(481704),k="[object Arguments]",S="[object Function]",j="[object Object]",I={};I[k]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[j]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[S]=I["[object WeakMap]"]=!1,e.exports=function e(n,i,C,E,A,O){var L,D=1&i,R=2&i,Z=4&i;if(C&&(L=A?C(n,E,A,O):C(n)),void 0!==L)return L;if(!b(n))return n;var U=v(n);if(U){if(L=g(n),!D)return d(n,L)}else{var N=h(n),M=N==S||"[object GeneratorFunction]"==N;if(x(n))return l(n,D);if(N==j||N==k||M&&!A){if(L=R||M?{}:f(n),!D)return R?u(n,s(L,n)):c(n,a(L,n))}else{if(!I[N])return A?n:{};L=_(n,N,D)}}O||(O=new t);var B=O.get(n);if(B)return B;O.set(n,L),w(n)?n.forEach((function(t){L.add(e(t,i,C,t,n,O))})):y(n)&&n.forEach((function(t,o){L.set(o,e(t,i,C,o,n,O))}));var F=U?void 0:(Z?R?m:p:R?P:T)(n);return o(F||n,(function(t,o){F&&(t=n[o=t]),r(L,o,e(t,i,C,o,n,O))})),L}},225588:(e,n,i)=>{var t=i(664160),o=i(637005);e.exports=function(e){return o(e)&&"[object Map]"==t(e)}},829221:(e,n,i)=>{var t=i(664160),o=i(637005);e.exports=function(e){return o(e)&&"[object Set]"==t(e)}},554290:(e,n,i)=>{var t=i(406557);e.exports=function(e){return"function"==typeof e?e:t}},257157:(e,n,i)=>{var t=i(274318);e.exports=function(e,n){var i=n?t(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},593147:e=>{var n=/\w*$/;e.exports=function(e){var i=new e.constructor(e.source,n.exec(e));return i.lastIndex=e.lastIndex,i}},540419:(e,n,i)=>{var t=i(562705),o=t?t.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},318805:(e,n,i)=>{var t=i(698363),o=i(799551);e.exports=function(e,n){return t(e,o(e),n)}},201911:(e,n,i)=>{var t=i(698363),o=i(151442);e.exports=function(e,n){return t(e,o(e),n)}},946904:(e,n,i)=>{var t=i(868866),o=i(151442),r=i(481704);e.exports=function(e){return t(e,r,o)}},151442:(e,n,i)=>{var t=i(862488),o=i(385924),r=i(799551),a=i(770479),s=Object.getOwnPropertySymbols?function(e){for(var n=[];e;)t(n,r(e)),e=o(e);return n}:a;e.exports=s},43824:e=>{var n=Object.prototype.hasOwnProperty;e.exports=function(e){var i=e.length,t=new e.constructor(i);return i&&"string"==typeof e[0]&&n.call(e,"index")&&(t.index=e.index,t.input=e.input),t}},529148:(e,n,i)=>{var t=i(274318),o=i(257157),r=i(593147),a=i(540419),s=i(477133);e.exports=function(e,n,i){var l=e.constructor;switch(n){case"[object ArrayBuffer]":return t(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,i);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},150361:(e,n,i)=>{var t=i(285990);e.exports=function(e){return t(e,5)}},356688:(e,n,i)=>{var t=i(225588),o=i(307518),r=i(531167),a=r&&r.isMap,s=a?o(a):t;e.exports=s},472928:(e,n,i)=>{var t=i(829221),o=i(307518),r=i(531167),a=r&&r.isSet,s=a?o(a):t;e.exports=s},498913:(e,n,i)=>{var t=i(422545),o=i(554290),r=i(640554),a=4294967295,s=Math.min;e.exports=function(e,n){if((e=r(e))<1||e>9007199254740991)return[];var i=a,l=s(e,a);n=o(n),e-=a;for(var d=t(l,n);++i<e;)n(i);return d}},418601:(e,n,i)=>{var t=i(14841),o=1/0;e.exports=function(e){return e?(e=t(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,n,i)=>{var t=i(418601);e.exports=function(e){var n=t(e),i=n%1;return n==n?i?n-i:n:0}},130008:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(899695),o=i(883119),r=i(785893);const a={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:n,customStyles:i,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:h,pressState:g,size:_,shape:f,text:v})=>{const x=(e=>"red"===e||"transparent"===e||"darkGray"===e?"white":"darkGray")(n),y=(({color:e,icon:n})=>n?l:"transparent"===e?{__style:{...a.__style,...s}}:a)({color:n,icon:c}),b=(0,r.jsx)(o.xu,{position:"relative",children:(0,r.jsx)(o.xu,{color:n,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===f?(w=i,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...w}}):y,children:(0,r.jsxs)(o.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,r.jsx)(o.xu,{paddingX:"check"===c?2:0,children:(0,r.jsx)(o.JO,{accessibilityLabel:e,color:x,icon:c,inline:!0,size:"check"===c?16:20})}),(0,r.jsx)(o.xv,{color:x,inline:!0,size:_,lineClamp:1,weight:"bold",children:v})]})})});var w;return h?(0,r.jsx)(t.Z,{onTouch:h,rounding:"pill"===f?"pill":2,pressState:g||"none",children:(0,r.jsx)(o.xu,{ref:d,children:b})}):b}},117167:(e,n,i)=>{i.d(n,{MZ:()=>I,di:()=>E,Ai:()=>C});var t=i(667294),o=i(40142),r=i(151994),a=i(505621),s=i(130008),l=i(405658),d=i(584230),c=i(890229),u=i(394465),p=i(539195),m=i(164271),h=i(855168);const g=({children:e,external:n,externalQueryParams:i,target:t,href:o})=>{const{logContextEvent:r}=(0,p.v)(),a=(0,h.k6)(),s=(0,h.TH)();if(!o)return null;const l=(0,c.Z)(o);return e({navigate:e=>{e.preventDefault(),(0,u.Z)({url:l})||n?(0,m.lI)({href:l,queryParams:i,location:s},r):(0,m.G3)({event:e,href:o,history:a,target:"blank"===t?"blank":null})}})};var _=i(883119),f=i(785893);const v=({children:e,external:n,externalQueryParams:i,inline:t=!1,newTab:o,nofollow:r,onTouch:a,onBlur:s,onFocus:l,pressState:d,rounding:u,to:p})=>(0,f.jsx)(g,{external:n,target:o?"blank":null,externalQueryParams:i,href:p,children:({navigate:n})=>(0,f.jsx)(_.rU,{onBlur:s?({event:e})=>s(e):void 0,onFocus:l?({event:e})=>l(e):void 0,hoverStyle:"none",href:(0,c.Z)(p),inline:t,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==a||a(e),e.defaultPrevented||n(e)},rel:r?"nofollow":"none",rounding:u,tapStyle:(Array.isArray(d)?d:[d]).includes("compress")?"compress":"none",children:e})}),x=({external:e,externalQueryParams:n,newTab:i,onTouch:t,to:o,...r})=>(0,f.jsx)(g,{external:e,target:i?"blank":null,externalQueryParams:n,href:o,children:({navigate:e})=>(0,f.jsx)(s.Z,{onTouch:n=>{null==t||t(n),n.defaultPrevented||e(n)},...r})});var y=i(540690),b=i(855571),w=i(829680),T=i(347676),P=i(477783),k=i(198873),S=i(340813);const j=(e,n=!1)=>function({isAppUpsellDisabled:i,...s}){const{children:c,clientTrackingParams:u,deeplinkUri:p,external:m,onTouch:h,refresh:g,to:v,viewParameter:x,viewType:j}=s,I=(0,y.Z)(),[C,E]=(0,t.useState)(!1),A=(0,b.Z)(),{userAgentPlatform:O,locale:L}=(0,o.useSelector)((({session:e})=>e)),D=(0,o.useSelector)((({session:e,users:n})=>n[e.userId])),R=()=>{(0,P.j)({event_type:1701,view_type:j,view_parameter:x}),C&&E(!1)};return(0,f.jsxs)(_.xu,{"data-test-id":"deeplink-wrapper",children:[C&&(0,f.jsx)(r.Z,{within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,f.jsx)(a.Z,{clientTrackingParams:u,isOpen:!0,onDismiss:()=>{},onOpenInApp:()=>{(0,k.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:p}),R()},shouldTrackDismiss:!0,to:v,viewParameter:x,viewType:j})}),(0,f.jsx)(l.Z,{children:t=>(0,f.jsx)(e,{...s,onTouch:e=>{const o=I&&!i&&A&&!m&&!g&&!(0,w.FP)(window)&&!("ios"===O&&(L||"").startsWith("ar"))&&(0,T.kp)((0,d.Z)(D));var r;o?(e.stopPropagation(),e.preventDefault(),E(!0)):"branchfallback"!==(0,k.qn)("deeplinkBehavior")||(0,S.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,S.Nh)("fallbackAttempt",1),t(p,`${window.location.origin}${r=v,"string"==typeof r?r:`${r.pathname||""}${r.search?`?${r.search}`:""}`}`),R()),n&&o||!h||h(e)},children:c})})]})},I=j(v),C=j(x),E=j(s.Z,!0)},405658:(e,n,i)=>{i.d(n,{Z:()=>_});var t=i(40142),o=i(71445),r=i(498177);const a="http://play.google.com/store/apps/details?id=com.pinterest",s=["access_token","new_password","new_password_confirm","password","next"],l=(e,n)=>n?(0,r.ru)(e,{invite_code:n}):e,d=(e,n,i)=>{if("ios"===n&&"string"==typeof e&&e.startsWith("discover/article/")){const n=e.split("/")[2];e=`discover_article/${n}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?l(e,i):"ios"===n||"ipad"===n?l(e.iOS,i):"android"===n?l(e.android,i):null},c=({deeplinkUri:e,fallbackUrl:n,invite_code:i,platform:t,redirectToLite:l,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:n,platform:i,fallbackUrl:t,unauthId:o})=>({deeplink_path:d(e,i,n),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:o,utm_source:140,utm_medium:2152,...t?{af_r:t}:null}))({deeplinkUri:e,fallbackUrl:n,invite_code:i,platform:t,unauthId:c,userAgent:u});if(o.Z.increment("mweb.deeplink",1,{platform:t}),i&&o.Z.increment("mweb.deeplink.invite_code",1),o.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),l){o.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const n=(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(n)}})({unauthId:c});window.location.href=(0,r.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===t){const n=(({deeplinkUri:e,invite_code:n,platform:i,unauthId:t})=>{const o=JSON.stringify({deeplink_path:d(e,i,n),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:t});return{referrer:(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:i,platform:t,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,r.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,r.ru)(a,n)})).catch(o.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,r.ru)(a,n)}else{if(o.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===t&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,r.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,r.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=i(660727),p=i(347676),m=i(785893);function h({children:e,invite_code:n}){const{userAgentPlatform:i,unauthId:o,userAgent:r}=(0,t.useSelector)((({session:e})=>e));return e((async(e,t)=>{c({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:i,redirectToLite:(0,p.Rp)({platform:i,userAgent:r}),unauthId:o,userAgent:r})}))}const g=e=>(0,m.jsx)(u.ty,{children:n=>(0,m.jsx)(h,{...e,invite_code:n})});g.displayName="DeepLinkNavigator";const _=g},414229:(e,n,i)=>{i.d(n,{fv:()=>_,GR:()=>p,Hs:()=>v,Mv:()=>h,uc:()=>g,dL:()=>m,qS:()=>f,Y4:()=>b,HE:()=>y,Cy:()=>x});var t=i(667294),o=i(973935),r=i(909621),a=i(477783);function s(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class l extends t.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:n}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||n||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{(0,a.vP)({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return t.Children.only(this.props.children)}}var d=i(539195);function c({auxData:e,component:n,eventData:i,eventType:o,impressionType:a,isPaused:s,objectIdStr:l,onTracked:c,viewData:u,viewType:p,viewParameter:m}){const h=(0,t.useRef)(null),{logImpression:g}=(0,d.v)(),_=(0,t.useCallback)((()=>{const t=t=>{g({viewData:u||{},viewType:p,viewParameter:m,eventType:o,impressionType:a,auxData:e,component:n,objectIdStr:l,eventData:{endTime:t.endTime,time:t.startTime,...i}}),c&&c(i)};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:n}=i;r.Z.start(h.current).onExitViewport(t).setDebugId(e||n||"unknown")}}catch(s){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,t.useEffect)((()=>{s||_();const e=h.current;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}}),[s,_]),h}var u=i(785893);const p=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const n=c({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},h=e=>{const n=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},g=e=>{const n=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:n})},_=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const n=c({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},v=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{const n=c({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},y=e=>{const n=c({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},b=e=>{const n=c({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})}},89806:(e,n,i)=>{i.d(n,{Z:()=>_e,K:()=>le});var t=i(667294),o=i(40142),r=i(665588),a=i(53930),s=i(716975),l=i(749050),d=i(230555),c=i(414021),u=i(397529),p=i(584230),m=i(899695),h=i(766279),g=i(156575),_=i(229687),f=i(883119),v=i(785893);function x({maxRating:e,rating:n,text:i}){return(0,v.jsxs)(f.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(_.Z,{max_rating:e||"",rating:n||"",width:10}),i&&(0,v.jsx)(t.Fragment,{children:(0,v.jsx)(f.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(f.xv,{size:"sm",lineClamp:1,children:i})})})]})}var y=i(710159),b=i(911439),w=i(458552);const T=({pinId:e})=>{var n;const i=(0,y.ZP)(),r=(0,o.useSelector)((({pins:e})=>e))[e];if(!r)return null;const{pinProduct:a}=(0,w.Fi)({i18n:i,pin:r,useGridTitleOrRichSummary:!1});if(!a||!a.price)return null;const s=a.standard_price||a.price,l=a.min_price||"",d=a.max_price||"",c=a.in_stock||!1,u=null===(n=r.rich_summary)||void 0===n?void 0:n.site_name,p=(0,b.Yc)()?"white":"darkGray",m=c?p:"gray";return(0,v.jsxs)(t.Fragment,{children:[u&&(0,v.jsx)(f.xv,{color:p,size:"sm",children:u}),(0,v.jsxs)(f.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[l&&d?(0,v.jsxs)(f.xv,{size:"sm",color:m,children:[l," - ",d]}):(0,v.jsx)(f.xv,{size:"sm",color:m,children:s}),!c&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(f.xu,{paddingX:1,children:(0,v.jsx)(f.xv,{size:"sm",color:m,children:"·"})}),(0,v.jsx)(f.xv,{size:"sm",color:m,children:i._("Out of stock","pinCard.priceLego.outOfStock","display if a product is out of stock")})]})]})]})};var P=i(741874),k=i(528410),S=i(371974),j=i(707169),I=i(198611),C=i(571154),E=i(855168),A=i(740049),O=i(907683);const L=(0,t.lazy)((()=>i.e(11266).then(i.bind(i,911266)))),D=({title:e})=>{const n=(0,S.ZP)(),i=(0,E.TH)();return(0,v.jsx)(f.iP,{onTap:()=>{(0,A.LW)({action:"click",page_location:i,item:"related-pins-title"})},children:(0,v.jsx)(f.xv,{size:"desktop"===n?"lg":"sm",weight:"bold",children:e})})},R=({allowPriceIndicator:e,contextMenu:n,credits:i,description:r,hidePinMetadata:s,hasAffiliatedProducts:l,isHubFeed:d,isPromotedPin:c,isSponsoredPin:u,isSquarePin:p,marginTop:h,marginStart:_,marginEnd:b,onCreditsClick:w,pinDescription:R,pinId:Z,pinnedToBoardId:U,pinReactionCounts:N,recipeCookTime:M,recipeMaxRating:B,recipeRating:F,recipeReviewCount:H,shouldShowReactions:z,style:W="default",title:G,type:$})=>{var V,Y,q;const X=(0,y.ZP)(),J=(0,E.TH)(),K=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),Q=(0,S.ZP)(),ee=G||r||"oneTap"===$,ne=(0,o.useSelector)((({pins:e})=>e[Z])),ie=(0,o.useSelector)((({boards:e})=>e[U||ne&&ne.board])),te=(0,o.useSelector)((({users:e})=>ne&&ne.pinner&&e[ne.pinner])),oe=c&&ne.promoter===ne.native_creator,re=ne.sponsorship?(0,v.jsx)(f.xv,{inline:!0,size:"sm",weight:"bold",children:null==i?void 0:i.subtitle}):void 0,ae="overlay"===W,se=z&&N&&Object.keys(N).length>0&&(0,v.jsx)(f.xu,{height:18,display:ae?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(L,{pinReactionCounts:N})})})});return(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(f.xu,{display:"flex",height:p?e?104:72:void 0,marginEnd:b||1,marginStart:_||1,position:"relative",children:[(0,v.jsxs)(f.xu,{flex:"grow",children:[(0,v.jsx)(f.xu,{display:"flex",marginTop:h||1,children:(0,v.jsx)(f.xu,{flex:"grow",children:(0,v.jsxs)(t.Fragment,{children:[(0,v.jsxs)(t.Fragment,{children:[(u||l)&&!oe&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(k.Z,{hasAffiliatedProducts:l,isPromoted:c,sponsorName:re,sponsorshipStatus:null===(V=ne.sponsorship)||void 0===V?void 0:V.status})})}),G&&!d&&(0,v.jsx)(f.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!s&&(0,v.jsx)(D,{title:G})}),"desktop"===Q&&!K&&R&&!(0,O.$Y)(J)&&(0,v.jsx)(f.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(f.iP,{onTap:()=>{(0,A.LW)({action:"click",page_location:J,item:"related-pins-description"})},children:(0,v.jsx)(f.xv,{size:"sm",inline:!0,children:R})})})]}),e&&(0,v.jsx)(T,{credits:i,pinId:Z}),"recipe"===$&&!!H&&(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(f.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!H&&(0,v.jsx)(x,{maxRating:B||"",rating:F||"",text:""}),!!M&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(f.xu,{paddingX:1,children:(0,v.jsx)(f.xv,{size:"sm",children:"·"})}),(0,v.jsx)(f.xv,{size:"sm",children:(0,I.IS)({...(0,C.u)(M),i18n:X})})]})]})})]})})}),!ae&&se,i&&(0,v.jsx)(m.Z,{onTouch:e=>w&&w(e),pressState:"none",children:(0,v.jsx)(f.xu,{children:(!s||u||oe)&&(0,v.jsxs)(f.xu,{display:"flex",marginTop:ae?-9:h||(ee?1:0),position:"relative",direction:ae?"column":"row",children:[(0,v.jsx)(f.xu,{flex:"none",display:ae?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(f.iP,{onTap:()=>{(0,A.LW)({action:"click",page_location:J,item:"related-pins-avatar-image"})},children:(0,v.jsx)(g.Z,{name:i.title||"",outline:ae,size:ae?"lg":"sm",src:ae&&i.largeAvatar||i.mediumAvatar||i.avatar||void 0})})}),(0,v.jsxs)(f.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ae?"center":void 0,marginStart:1,children:[i.title&&(0,v.jsx)(f.xv,{lineClamp:1,size:"sm",weight:u&&!oe||l?"normal":"bold",children:i.title===(null==te?void 0:te.full_name)&&(null!=te&&te.is_verified_merchant||null!=te&&null!==(Y=te.verified_identity)&&void 0!==Y&&Y.verified)?(0,v.jsx)(j.Z,{badgeSize:"sm",badgeSpacing:2,fullName:i.title,verifiedType:te.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):i.title}),i.subtitle?(!u&&!s||oe)&&(0,v.jsx)(f.xv,{lineClamp:u||l?void 0:1,size:"desktop"===Q?"md":"sm",weight:d||"desktop"===Q?"bold":"normal",children:i.subtitle}):K?null:(0,v.jsx)(f.rU,{hoverStyle:"underline",href:ie.url,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,A.NC)("click_board_pin_attribution_profile"),(0,A.LW)({action:"click",page_location:J,item:"related-pin-text-below-full-name"})},children:(0,v.jsx)(f.xv,{size:"md",children:ie.name})})]})]})})}),!i&&"desktop"===Q&&!!te&&((0,O.L6)(J)||(0,O.cD)(J)||(0,O.$Y)(J))&&(0,v.jsxs)(f.xu,{display:"flex",marginTop:ee?2:0,children:[(0,v.jsx)(f.xu,{flex:"none",children:(0,v.jsx)(f.iP,{onTap:()=>{(0,A.LW)({action:"click",page_location:J,item:"related-pins-avatar-image"})},children:(0,v.jsx)(g.Z,{name:te.username||"",size:"sm",src:null!==(q=te.image_small_url)&&void 0!==q?q:void 0})})}),(0,v.jsxs)(f.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[(0,v.jsx)(f.rU,{hoverStyle:"underline",href:`/${te.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,A.NC)("click_board_pin_attribution_board"),(0,A.LW)({action:"click",page_location:J,item:"related-pin-rep-full-name"})},children:(0,v.jsx)(f.xv,{size:"md",weight:"bold",children:te.full_name||te.username})}),(0,v.jsx)(f.rU,{hoverStyle:"underline",href:ie.url,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),(0,A.NC)("click_board_pin_attribution_profile"),(0,A.LW)({action:"click",page_location:J,item:"related-pin-text-below-full-name"})},children:(0,v.jsx)(f.xv,{size:"md",children:ie.name})})]})]}),ae&&se]}),(0,v.jsx)(f.xu,{position:ae?"absolute":void 0,right:!0,children:n})]})})};var Z=i(958131),U=i(123686);const N=(0,t.lazy)((()=>i.e(37227).then(i.bind(i,137227)))),M=({inviteCode:e})=>{const n=(0,y.ZP)();return(0,v.jsx)(f.xu,{minHeight:82,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(P.Z,{fallback:(0,v.jsx)(Z.Z,{accessibilityLabel:n._("Loading Invitation component","Loading InviteFetch component","loading InviteFetch component")}),children:(0,v.jsx)(N,{invite_code:e,children:e=>{const i=e?e.sender:null,t=i&&i.first_name?i.first_name.substring(0,30):"";if(!t)return null;const o=i&&!i.is_default_image?i.image_medium_url:"",r=(0,U.nk)(n._("{{ name }} shared this idea with you","homefeed.pinSenderAvatar.heading","header notifying users that a sender ({{ name }}) shared a Pin to them"),{name:t});return(0,v.jsxs)(f.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(f.zd,{height:32,width:32,children:(0,v.jsx)(g.Z,{name:t,src:o})}),(0,v.jsx)(f.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(f.xv,{align:"center",size:"md",weight:"bold",children:r})})]})}})})})})};var B=i(445420),F=i(586419),H=i(827929);function z({pin:e,board:n,pinner:i}){return(0,v.jsxs)(f.xu,{paddingX:2,marginBottom:3,display:"flex",children:[(0,v.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"3"}},flex:"grow",maxHeight:48,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(f.xv,{size:"sm",weight:"bold",children:(0,H.fs)(e)||e.description})}),(0,v.jsx)(f.xu,{children:(0,v.jsx)(F.Z,{pin:e,board:n,pinner:i})})]})}var W=i(37487),G=i(84739),$=i(355247),V=i(117167),Y=i(175429),q=i(414229),X=i(476891),J=i(656831),K=i(24391),Q=i(834375);const ee={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},ne=(e,n,i)=>(0,v.jsx)(f.xv,{color:"inverse",inline:!0,size:"md",weight:"bold",children:(0,v.jsx)(f.rU,{inline:!0,href:n,tapStyle:"none",children:i})},e);function ie({color:e,getFeedbackText:n,onUnfollow:i,showing:o,unfollowed:r}){const a=(0,y.ZP)(),[s,l]=(0,t.useState)(o?"fadeIn":"initial"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>("initial"===s&&o&&(d.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[s,l,o]);const{subTitle:c,title:u,unfollow:p}=n(ne);let m=u,h=c;p&&r&&(m=p.title,h=p.subTitle);return o&&(0,v.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ee[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsx)(f.xu,{width:"100%",height:"100%",color:"darkGray",rounding:4,overflow:"auto",children:(0,v.jsxs)(f.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(f.xu,{children:[(0,v.jsx)(f.X6,{size:"sm",color:"white",children:m}),h&&(0,v.jsxs)(f.xu,{marginTop:1,children:[(0,v.jsx)(f.xv,{color:"inverse",size:"md",inline:!0,children:h}),(0,v.jsx)(f.xv,{color:"inverse",inline:!0,size:"md",weight:"bold",children:(0,v.jsx)(f.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",children:a._("Tune your home feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}),!r&&p&&(0,v.jsx)(f.xu,{paddingY:1,children:(0,v.jsx)(f.zx,{fullWidth:!0,color:"white",text:a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user"),onClick:()=>p?(0,Q.t)(p.action,p.actionOptions,i):void 0})})]})})})}var te=i(112978),oe=i(532180),re=i(979596),ae=i(477783);function se(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}const le=({isDesktop:e})=>e?0:1,de=e=>Boolean(e.is_eligible_for_web_closeup),ce=e=>Boolean(e.promoter&&!e.is_downstream_promotion),ue={width:1,height:1,url:""},pe=e=>{const{attribution:n,embed:i,is_eligible_for_web_closeup:t,rich_summary:o,videos:r,story_pin_data_id:a}=e,s=i||n&&n.embed;return t?"oneTap":r||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":o&&"product"===o.type_name?"product":o&&"recipe"===o.type_name?"recipe":a?"storyPin":"image"},me=e=>{if("video"===pe(e)&&e.videos&&e.videos.video_list){const{duration:n=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,h.Z)(n)}return""},he=(0,t.lazy)((()=>i.e(97741).then(i.bind(i,197741))));class ge extends t.Component{constructor(...e){super(...e),se(this,"state",{startImpressionTimer:!1}),se(this,"getPinImage",(()=>{const{pin:e,isSquarePin:n,shouldLimitResolution:i}=this.props;if(!e||!e.images)return ue;if(i&&e.images["170x"])return e.images["170x"];var t;if(n)return{height:136,url:null===(t=e.images["236x"])||void 0===t?void 0:t.url,width:136};const o=["236x","170x","136x136","736x","474x","orig"];for(const r of o)if(e.images[r]&&e.images[r].url)return e.images[r];return ue})),se(this,"getImpressionData",(()=>{var e,n;const{pin:i}=this.props,t=null===(e=i.videos)||void 0===e||null===(n=e.video_list)||void 0===n?void 0:n.V_720P,o=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&i.videos?i.videos.id:void 0}:{},r=this.getPinImage();return{richTypes:i.shopping_flags||[],imageURL:r.url||"",...o,...this.props.impressionData}})),se(this,"getAuxData",(()=>{const{auxData:e={},pin:n,pwaType:i}=this.props;return{commerce_data:(0,l.Z)(n),pwa_type:i,...e}})),se(this,"getFeedbackType",(()=>{const{board:e,feedback:n,viewParameter:i,pin:t,pinner:o}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:n,viewParameter:i,pin:t,pinner:o})})),se(this,"getRecommendationDescription",(e=>{const{board:n,pinner:i,promoter:t,pin:o}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:o.ad_match_reason,board:n,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i,promoter:t,recommendationReason:o.recommendation_reason,sourceInterest:o.source_interest})})),se(this,"getPinHiddenFeedbackText",(e=>{const{board:n,pin:i,pinner:t,promoter:o}=this.props,r=this.feedbackHelpers.getUnfollowAction({board:n,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:t,sourceInterest:i.source_interest});return ce(i)&&o.full_name?{title:"",subTitle:(0,U.nk)(this.props.i18n._("{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.","pinRep.promotedPinfeedbackText.subtitle","message displayed after hiding a promoted pin"),{promoter:o.full_name})}:r?{title:this.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:this.getRecommendationDescription(e),unfollow:r}:{title:this.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:this.props.i18n._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}})),se(this,"getMaxAltTextKeywords",(e=>e.startsWith("enabled_0")?0:e.startsWith("enabled_1")?1:e.startsWith("enabled_3")?3:e.startsWith("enabled_5")?5:null)),se(this,"feedbackHelpers",(0,s.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:U.nk})),se(this,"logOneTap",(()=>{const{pin:e,trackingParams:n,viewType:i,viewParameter:t,auxData:o}=this.props,r=(0,c.Z)(n,e.tracking_params),a={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:e.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:(0,l.Z)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:r};(0,ae.j)({event_type:8948,view_type:i,view_parameter:t,object_id_str:e.id,clientTrackingParams:r,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),(0,ae.jC)(a),(0,ae.j)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:r,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})})),se(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),se(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),se(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),se(this,"handleClick",(e=>{const{auxData:n,componentType:i,deviceType:t,pin:o,slotIndex:r,trackingParams:a,viewParameter:s,viewType:d,onPinClick:u,isAuth:p,unauthDesktopSignupModalPageContext:m}=this.props,h=e=>(0,A.My)(`unauth_pin_rep.${e}.${String(s)}`);if(h("click"),(0,ae.ob)({view_type:d,view_parameter:s,element:o.story_pin_data_id?12372:35,component:i,object_id_str:o.id,clientTrackingParams:(0,c.Z)(a,o.tracking_params),aux_data:{commerce_data:(0,l.Z)(o),grid_index:r,image_signature:o.image_signature,...n}}),de(o)||(0,ae.j)({event_type:8948,view_type:d,view_parameter:s,object_id_str:o.id,clientTrackingParams:(0,c.Z)(a,o.tracking_params),aux_data:{image_signature:o.image_signature,commerce_data:(0,l.Z)(o),closeup_navigation_type:"click",grid_index:r,cosmic_ray_count:"3",...n}}),!p)switch((0,A.LW)({action:"click",item:"pin",page_location:this.props.location}),d){case 3:(0,A.NC)("click_pin_related_image");break;case 5:(0,A.NC)("click_board_pin_image");break;case 210:(0,A.NC)("click_topic_pin_image")}if(de(o)&&this.logOneTap(),u&&u(),"desktop"===t){if(e.metaKey){h("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!p&&m){const{pinImageClickHandler:n}=m;n({event:e,pin:o,linkTarget:"duploClientNav"})}}})),se(this,"handleCreditsClick",(e=>{var n;const{history:i,pin:t}=this.props,{id:o,sponsorship:r,story_pin_data_id:a}=t,{creator:s,sponsor:l}=r||{},{id:d}=s||{},{id:c}=l||{},u=!!a;e.stopPropagation(),e.preventDefault();const p=null===(n=this.getCredits())||void 0===n?void 0:n.link;p&&i.push(p),(0,ae.So)({view_type:3,element:27,object_id_str:o,component:u?230:void 0,aux_data:{pin_id:o,...d&&c?{creator_id:d,sponsor_id:c}:{}}})})),se(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),se(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:n,board:i,setSharingOnBoardPage:t}=this.props;i&&n&&t&&i.isSocialSeasonalBoard&&t(!0,"pin",n.id)})),se(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:n,viewParameter:i}=this.props,t=3375===i;return e&&43===i&&!(0,p.Z)(n)||t})),se(this,"convertToGif",(e=>{const n=Math.max(e.embed&&e.embed.width||0,236),i=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:n,height:i}}))}componentDidMount(){const{isAuth:e,slotIndex:n,pin:i,viewParameter:t,location:o}=this.props;if(!e&&0===n&&3070===t){const e=o.pathname;(0,$.H$)(e,i)}}getIsClaimedContent(){var e,n;const{pin:i,viewParameter:t}=this.props;return 3375===t&&!(null===(e=i.link_domain)||void 0===e||null===(n=e.official_user)||void 0===n||!n.is_primary_website_verified)}getCredits(){const{board:e,nativeCreator:n,pin:i,pinner:t,promoter:o,storyPin:r,viewParameter:a}=this.props,s=null==r?void 0:r.has_product_pins,l=0===a,d=3475===a,c=3173===a,u=3375===a,p=this.getIsClaimedContent(),m=!!i.native_creator,h=ce(i),{sponsorship:g}=i,{creator:_,sponsor:f}=g||{},v=h&&!!g&&o.id!==n.id,x=!!g&&_;if(!(h||x||l||c||m||p))return;switch(v?"PROMOTED_SPONSORED":h?"PROMOTED":x?"SPONSORED":m?"AFFILIATED_PRODUCTS":s?"NATIVE_CONTENT":p?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:n.full_name,subtitle:o.full_name,avatar:this.getPinnerImage(n.image_small_url),mediumAvatar:this.getPinnerImage(n.image_medium_url),largeAvatar:this.getPinnerImage(n.image_large_url),link:`/${n.username}/`};case"PROMOTED":return{title:this.props.i18n._("Promoted by","Grid pin annotation","Grid pin annotation"),subtitle:o.full_name,avatar:this.getPinnerImage(o.image_small_url),mediumAvatar:this.getPinnerImage(o.image_medium_url),largeAvatar:this.getPinnerImage(o.image_large_url),link:`/${o.username}/`};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:n.full_name,subtitle:null==f?void 0:f.full_name,avatar:this.getPinnerImage(n.image_small_url),mediumAvatar:this.getPinnerImage(n.image_medium_url),largeAvatar:this.getPinnerImage(n.image_large_url),link:`/${n.username}/`};case"AFFILIATED_PRODUCTS":return{title:n.full_name,subtitle:"",avatar:this.getPinnerImage(n.image_small_url),mediumAvatar:this.getPinnerImage(n.image_medium_url),largeAvatar:this.getPinnerImage(n.image_large_url),link:`/${n.username}/`};case"NATIVE_CONTENT":let r=(null==e?void 0:e.url)||`/pin/${i.id}/`;return(u||d)&&(r=`/${n.username}/`),{title:d?this.props.i18n._("Created by","created by label for story pins","created by label for story pins"):"",subtitle:n.full_name,avatar:this.getPinnerImage(n.image_small_url),mediumAvatar:this.getPinnerImage(n.image_medium_url),largeAvatar:this.getPinnerImage(n.image_large_url),link:r};case"CLAIMED_CONTENT":const{link_domain:a}=i,{official_user:s}=a||{};return s?{subtitle:s.full_name,avatar:this.getPinnerImage(s.image_small_url),mediumAvatar:this.getPinnerImage(s.image_medium_url),largeAvatar:this.getPinnerImage(s.image_large_url),link:s.username?`/${s.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._("Saved by","Grid pin annotation","Grid pin annotation"),subtitle:"",avatar:this.getPinnerImage(null==t?void 0:t.image_small_url),mediumAvatar:this.getPinnerImage(null==t?void 0:t.image_medium_url),largeAvatar:this.getPinnerImage(null==t?void 0:t.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==t?void 0:t.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==t?void 0:t.image_small_url),mediumAvatar:this.getPinnerImage(null==t?void 0:t.image_medium_url),largeAvatar:this.getPinnerImage(null==t?void 0:t.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:n,viewedSharedPins:i,pinId:t}=this.props;return 92===n?null===(e=i&&i[t])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:n,description:i}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==n?void 0:n.display_name,description:i}}renderPinCard(){var e,n,i,t,o,s,l,p,h,g;const{activateSearchIdeaPinExperiment:_,activateHidePinMetadataRP:x,activateHidePinMetadataRPLowEngaged:y,activateBoardSemanticHtmlExp:b,activateUnauthPlpAltTextExp:w,activateUnauthBlpAltTextExp:T,activateFewerAltTextKeywordsExp:k,board:S,country:j,disableAppUpsell:I,disablePinCardPadding:C,disableRounding:E,disableReaction:L,deviceType:D,feedback:Z,imageOnly:U,i18n:N,isAuth:F,isOneTapExploreLocalTab:$,isSquarePin:q,isImageOnlyExp:X,location:J,marginBottom:K,marginStart:Q,marginEnd:ee,nativeCreator:ne,onPinLinkClick:te,oneTapSave:oe,pin:re,storyPin:ae,pinner:se,promoter:ue,pinCardDetailsMarginTop:ge,slotIndex:_e,trafficSource:fe,viewParameter:ve,viewType:xe,showSeoMetadata:ye,topLevelTrafficSource:be,topLevelTrafficSourceDepth:we,undoAction:Te,undoActionOptions:Pe,trackingParams:ke,vaseDisplayMode:Se,onUnauthDesktopContextMenu:je}=this.props,{aggregated_pin_data:Ie,category:Ce,image_signature:Ee,rich_summary:Ae,title:Oe,sponsorship:Le}=re,{description:De,title:Re}=this.getPinText(),Ze="desktop"===D,Ue=pe(re),Ne=0===ve,Me=3475===ve,Be=ce(re),Fe=!!Le,He=null==ae?void 0:ae.has_product_pins,ze=null==ae?void 0:ae.is_deleted,We=(0,c.Z)((J&&J.state||{}).trackingParams||ke,re.tracking_params),Ge=X&&!this.isOverrideImageOnly(),$e=S&&S.isSocialSeasonalBoard,Ve=this.getPinImage(),Ye=$e&&"gif"===Ue?this.convertToGif(re):Ve,qe=null===(e=re.videos)||void 0===e||null===(n=e.video_list)||void 0===n?void 0:n.V_720P,Xe=(0,O.L6)(J)&&re.alt_text&&re.alt_text.trim().length>0&&w().group||"",Je=(0,O.am)(J)&&re.alt_text&&re.alt_text.trim().length>0&&T()||"",Ke=!Xe&&!Je&&(0,O.L6)(J)&&k().group||"",Qe=this.getMaxAltTextKeywords(Ke);let en;var nn;if(re.alt_text&&(Xe.startsWith("enabled_related_append")||Xe.startsWith("enabled_closeup_related_append")||Xe.startsWith("enabled_closeup_related_replace")))en=(0,H.hP)(null!==(nn=re.description)&&void 0!==nn?nn:"",re.description_html||"",re.pin_join,re.alt_text||"",Xe.startsWith("enabled_closeup_related_replace"));else if(Je&&Je.anyEnabled){var tn;en=(0,H.hP)(null!==(tn=re.description)&&void 0!==tn?tn:"",re.description_html||"",re.pin_join,re.alt_text||"",Je.group.startsWith("enabled_replace"),null!=Qe?Qe:void 0)}else{var on;en=(0,H.hP)(null!==(on=re.description)&&void 0!==on?on:"",re.description_html||"",re.pin_join,void 0,void 0,null!=Qe?Qe:void 0)}const{annotationsWithLinks:rn}=(0,H.eK)(re),an=F?De:(0,u.Z)(re),sn=!L&&(0,Y.J6)(re)&&!Me,ln=!F&&!!re.story_pin_data_id&&!!re.seo_url;let dn;dn=de(re)?re.tracked_link||re.link:ln?re.seo_url:`/pin/${re.id}/`;const cn=!De||Ge&&!Ne?void 0:De.trim(),un=this.getSharedHeaderInviteCode(),pn={country:j,deeplinkUri:ln?re.seo_url:`pin/${re.id}`,external:de(re),externalQueryParams:{pin:re.id,client_tracking_params:ke},isAppUpsellDisabled:I,onTouch:this.handleClick,pinCategory:re.category,pressState:"none",rounding:4,title:this.props.i18n._("See this Pin","App Upsell Text after clicking on Pin in feed","App Upsell Text after clicking on Pin in feed"),to:{pathname:dn,state:{trackingParams:ke,trafficSource:fe,topLevelTrafficSource:be,topLevelTrafficSourceDepth:we}},upsellType:"direct",viewParameter:ve,viewType:xe,clientTrackingParams:We},mn=le({isDesktop:Ze}),hn=Object.keys(ne).length>0?ne:se,gn="search"===fe&&"storyPin"===Ue&&_().anyEnabled,_n=!F&&b().anyEnabled,fn=_n&&b().group,vn=!(0,r.Z)(J)&&(0,O.L6)(J)&&F&&"desktop"!==D&&(y().anyEnabled||x().anyEnabled);return(0,v.jsxs)(f.xu,{as:"board"===fe&&_n&&"enabled_role"!==fn?"figure":"div","data-test-id":"pin","data-test-pin-id":re.id,marginBottom:K||(Ze||vn?0:2),marginEnd:_n?0:void 0,marginStart:_n?0:void 0,marginTop:_n?0:void 0,children:[(0,v.jsxs)(f.xu,{padding:C?0:mn,marginBottom:0,onContextMenu:hn?je(re,hn):void 0,children:[(0,v.jsxs)(V.MZ,{...pn,children:[!!un&&(0,v.jsx)(M,{inviteCode:un}),ze?(0,v.jsx)(W.Z,{isPinRep:!0}):(0,v.jsx)(B.Z,{clientTrackingParams:We,color:null!==(i=re.dominant_color)&&void 0!==i?i:"",description:cn,domainLinkData:re.domain&&re.link?{clickLoggingOptions:{auxData:{objectId:re.id,grid_index:_e,sanitized_url:re.link}},domain:re.domain,link:re.link,onClick:te}:void 0,disableRounding:E,hideBottomCardText:$e,image:Ye,imageAltText:en,imageCrop:re.image_crop,isMessenger:$e,isOneTapExploreLocalTab:$,isSquarePin:q,onError:this.handleError,oneTapSave:oe,onLoad:this.handleLoad,pinId:re.id,pinnedToBoardId:(null===(t=re.pinned_to_board)||void 0===t?void 0:t.id)||"",pinVideo:$e&&qe||void 0,slotIndex:_e,storyData:ae,title:!Ge||Ne?Re:void 0,type:Ue,videoDuration:me(re),viewType:xe})]}),(Me||!U&&(F||"desktop"===D)||"shop_feed_auth_and_unauth_mweb_override"===fe)&&(0,v.jsxs)(f.xu,{children:["desktopParity"===Se&&rn&&rn.length>0&&(0,v.jsx)(G.Z,{annotations:rn,mode:"inlineWithScrollArrows"}),(0,v.jsx)(V.MZ,{...pn,children:(0,v.jsx)(R,{allowPriceIndicator:["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(fe),marginTop:ge,hidePinMetadata:vn,contextMenu:F&&!ze?(0,v.jsx)(f.xu,{marginStart:1,marginTop:ge,children:(0,v.jsx)(f.xu,{height:26,width:24,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(he,{adMatchReason:re.ad_match_reason,bestPinImgSrc:(0,d.Z)(re),feedback:Z,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Ee,pinCategory:Ce,pinDescription:an,pinId:re.id,pinImgSrc:Ye.url,pinTitle:Oe,sourceType:Be?"ad":Ne?"following":void 0,viewParameter:ve,viewType:xe,trackingParams:ke})})})})}):null,credits:this.getCredits(),description:cn,hasAffiliatedProducts:He,isHubFeed:Me,isPromotedPin:Be,isSponsoredPin:Fe,isSquarePin:q,marginStart:Q,marginEnd:ee,onCreditsClick:this.handleCreditsClick,pinDescription:an,pinId:re.id,pinnedToBoardId:(null===(o=re.pinned_to_board)||void 0===o?void 0:o.id)||"",pinReactionCounts:re.reaction_counts,pinTagsChips:(Ie||{}).pin_tags_chips,promoterName:ue.full_name,recipeCookTime:Ge?void 0:re.rich_summary&&re.rich_summary.display_cook_time,recipeMaxRating:Ge||null==Ae||null===(s=Ae.aggregate_rating)||void 0===s?void 0:s.best_rating,recipeRating:Ge||null==Ae||null===(l=Ae.aggregate_rating)||void 0===l?void 0:l.rating_value,recipeReviewCount:Ge||null==Ae||null===(p=Ae.aggregate_rating)||void 0===p?void 0:p.review_count,shouldShowReactions:sn,style:gn?"overlay":"default",title:gn?void 0:Re,type:Ue})})]})]}),(null==S?void 0:S.isSocialSeasonalBoard)&&F&&(0,v.jsx)(f.xu,{color:"lightGray",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(m.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(f.xu,{padding:3,children:(0,v.jsx)(f.xv,{align:"center",weight:"bold",children:N._("Send"," - "," -- ")})})})}),"reported"===re.feedback_status?(0,v.jsx)(ie,{color:null!==(h=re.dominant_color)&&void 0!==h?h:"",getFeedbackText:()=>({title:this.props.i18n._("Reported","message displayed after reporting a pin","message displayed after reporting a pin"),subTitle:this.props.i18n._("Thanks! Your feedback helps us keep the Pinterest community safe.","message displayed after reporting a pin","message displayed after reporting a pin")}),pinId:re.id,showing:!!re.feedback_status}):(0,v.jsx)(ie,{color:null!==(g=re.dominant_color)&&void 0!==g?g:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:re.id,showing:!!re.feedback_status,undoAction:Te,undoActionOptions:Pe,unfollowed:"unfollowed"===re.feedback_status,viewParameter:ve,viewType:xe}),ye&&"inlineHidden"===Se&&(0,v.jsx)(f.iP,{onTap:()=>{(0,A.LW)({action:"click",page_location:J,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(z,{pin:re,board:S,pinner:se})})]})}render(){const{componentType:e,pin:n,trackingParams:i,viewParameter:t,viewType:o,slotIndex:r,objectIdStr:a,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return n?(0,v.jsx)(q.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:n.id,objectIdStr:a,onTracked:this.markPinAsSeen,slotIndex:r,trackingParams:i,viewData:s,viewParameter:t,viewType:o,children:({impressionTrackerRef:e})=>(0,v.jsx)(f.xu,{ref:e,children:this.renderPinCard()})}):null}}const _e=(0,o.connect)((({boards:e,experiences:n,pins:i,session:t,users:o,storyPins:r},a)=>{const s=i[a.pinId]||null,l=s&&s.story_pin_data_id?r[s.story_pin_data_id]:void 0,d=n[1000107];return{board:s&&e[s.board],country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isImageOnlyExp:d&&500678===d.experience_id,pin:s,storyPin:l,pinner:s&&o[s.pinner],promoter:null!=s&&s.promoter&&o[s.promoter]||{},undoAction:s&&s.undoAction,undoActionOptions:s&&s.undoActionOptions,viewer:o[t.userId],viewedSharedPins:t.viewedSharedPins,nativeCreator:null!=s&&s.native_creator&&o[s.native_creator]||{}}}),((e,{viewParameter:n,viewType:i})=>({markPinAsSeen:t=>e((0,re.DX)({pinId:t,viewParameter:n,viewType:i})),markPinUnfollowed:n=>e((0,re.fH)(n,"unfollowed")),setSharingOnBoardPage:(n,i,t)=>e((0,X.Mj)(n,i,t))})))((function(e){const n=(0,y.ZP)(),i=(0,oe.g)(),t=(0,te.tc)("mweb_web_android_ios_backend_clbc_display_controls"),o=(0,te.tc)("mweb_web_android_ios_clbc_eu_ad_string"),r=(0,te.tc)("mweb_search_ideapin_module"),a=(0,te.tc)("ff_board_semantic_html"),s=(0,te.tc)("unauth_plp_alt_text_field_ffe"),l=(0,te.tc)("unauth_blp_alt_text_field_ffe"),d=(0,te.tc)("unauth_fewer_alt_text_keywords_ffe"),c=(0,te.tc)("mweb_hide_pin_medatada_rp"),u=(0,te.tc)("mweb_hide_pin_medatada_rp_lowengaged"),p=(0,S.ZP)(),m=(0,K.B)(),h=(0,J.yz)();return(0,v.jsx)(ge,{...e,onUnauthDesktopContextMenu:m,deviceType:p,activateEUSponsorshipDisclosureExp:o,activateHidePinMetadataRP:c,activateHidePinMetadataRPLowEngaged:u,activateSponsorshipDisclosureExp:t,activateSearchIdeaPinExperiment:r,activateBoardSemanticHtmlExp:a,activateUnauthPlpAltTextExp:s,activateUnauthBlpAltTextExp:l,activateFewerAltTextKeywordsExp:d,pwaType:h,unauthDesktopSignupModalPageContext:i,vaseDisplayMode:"desktop"===p?"desktopParity":"inlineHidden",i18n:n})}))},445420:(e,n,i)=>{i.d(n,{Z:()=>M});var t=i(667294),o=i(40142),r=i(130008),a=i(647136),s=i(710159),l=i(166371),d=i(248924),c=i(474809),u=i(476891),p=i(117167),m=i(448906),h=i(819286),g=i(979596),_=i(883119),f=i(855168),v=i(785893);const x=new _.Ry(1),y=(0,d.Z)((({buttonText:e,clientTrackingParams:n,color:i="red",deeplinkUri:d,experience:y,inline:b=!0,minWidth:w,onTouch:T,onUnsave:P,pinId:k,pinnedToBoardId:S,shape:j,shouldShowSavedButton:I,showRepinConfirmation:C,showToast:E,viewType:A,viewParameter:O,showSaveHandoffExperience:L})=>{var D;const R=(0,s.ZP)(),Z=(0,o.useDispatch)(),U=(0,f.k6)(),N=(0,f.TH)().pathname.startsWith("/pin"),M=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),B=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),F=null===(D=(0,o.useSelector)((e=>(0,m.ts)(e))))||void 0===D?void 0:D.pin_count,H=()=>{Z((0,g.Bp)({history:U,i18n:R,onSuccess:()=>{y&&Z((0,c.CK)(y.placement_id,y.experience_id))},pinId:k,trackingParams:{clientTrackingParams:n,pinnedToBoardId:S},showRepinConfirmation:L&&!N?()=>{}:C,disableRepinAnimation:B===k,pinCount:F})).catch((e=>E((({onHide:n})=>(0,v.jsx)(a.ZP,{variant:"error",text:e.message||R._("Sorry! Something went wrong on our end.","quickSave.toast.error.message","error during repin"),onHide:n})))))},z=(0,t.useRef)(null),W=L&&!M,G=(0,l.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),T&&T(e),I?I&&P&&P():H()},modalHeader:(0,h.Bx)(R)});(0,t.useEffect)((()=>{W&&!z.current&&(H(),Z((0,u.e2)())),z.current=W}));const $=()=>R._("Pin","quickSave.quickSaveButton.icon.accessibilityLabel","Pin accessibility label"),V=()=>e||R._("Save","quickSave.quickSaveButton.buttonText","Auth mobile web save button for pin closeup");return M&&!N?null:(0,v.jsx)(_.xu,{"data-test-id":"save-button-mobile",zIndex:x,children:d?(0,v.jsx)(p.di,{accessibilityLabel:$(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:d,inline:b,minHeight:48,minWidth:w,onTouch:G,pressState:["compress","background"],shape:j,size:"lg",text:V(),to:U.location.pathname,upsellType:"save",viewType:A,viewParameter:O}):(0,v.jsx)(r.Z,{accessibilityLabel:$(),color:i,customStyles:{padding:"14px 16px"},inline:b,minHeight:48,minWidth:w,onTouch:G,pressState:"compress",shape:j,size:"lg",text:V()})})}));var b=i(5204),w=i(740049),T=i(397512),P=i(358142);function k(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class S extends t.PureComponent{constructor(...e){var n;super(...e),n=this,k(this,"state",{saveState:void 0}),k(this,"legoFixedZIndex",new _.Ry(2)),k(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:i,i18n:t,oneTapSave:o,pinId:r,pinnedToBoardId:s,showToast:l,viewType:d}=n.props;try{const t=await i((0,g.wh)({i18n:n.props.i18n,pinId:r,boardId:null==o?void 0:o.boardId,isOneTapSave:!0,onUndo:()=>{n.onDeletePin()},section:null==o?void 0:o.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:d}));n.setState({saveState:"saved"}),i((0,T.a)({boardId:null==o?void 0:o.boardId,localPinId:t.id,pinId:r}))}catch(c){l((({onHide:e})=>(0,v.jsx)(a.ZP,{variant:"error",text:c.message||t._("Sorry! Something went wrong on our end.","error during repin","error during repin"),onHide:e}))),n.setState({saveState:void 0})}})),k(this,"onDeletePin",(async function(){const{dispatch:e,i18n:i,pinId:t,savedInfo:o,showToast:r}=n.props;if(o){e((0,T.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:t}));try{await e((0,g.q$)(o.localPinId,o.boardId)),r((({onHide:e})=>(0,v.jsx)(a.ZP,{text:i._("Pin deleted!","User deleted their pin","User deleted their pin"),onHide:e}))),n.setState({saveState:void 0})}catch(s){r((({onHide:e})=>(0,v.jsx)(a.ZP,{variant:"error",text:i._("Sorry! There was an error deleting your Pin.","Error when user tried to delete pin","Error when user tried to delete pin"),onHide:e}))),n.setState({saveState:"saved"})}}})),k(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:n}=this.state,{history:i,pinId:t,isOneTapExploreLocalTab:o,pinnedToBoard:r}=this.props;["saving","deleting"].includes(n)||o&&r||(n||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),o?i.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,h.Bx)(this.props.i18n)})),k(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:n,savedInfo:i})=>e?!!n:!!i))}render(){const{children:e,clientTrackingParams:n,homepageExperience:i,i18n:o,isOneTapExploreLocalTab:r,isRTL:a,location:s,oneTapSave:l,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:m}=this.props;if(!l&&!r&&!m)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:r,pinnedToBoard:c,savedInfo:p}),g="#000",f="rgba(255, 255, 255, 0.8)",x="white",b="darkGray";return(0,v.jsxs)(t.Fragment,{children:[e,(0,v.jsx)(_.xu,{bottom:!0,left:a,padding:2,position:"absolute",right:!a,zIndex:this.legoFixedZIndex,children:m?(0,v.jsx)(y,{buttonText:!!c&&o._("Saved","OneTapSave.QuickSaveButton.Saved","Message on saved pin"),clientTrackingParams:n,color:c?"white":"red",deeplinkUri:"deeplinkUri",experience:i,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,to:{pathname:`/pin/${d}/repin/`,state:{trackingParams:s.state?s.state.trackingParams:""}},showSaveHandoffExperience:m}):(0,v.jsx)(_.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?g:f}},padding:2,rounding:"circle",children:(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,v.jsx)(_.JO,{accessibilityLabel:h?o._("saved","checkmark icon to show pin has been saved","checkmark icon to show pin has been saved"):o._("save","button for saving quickly with one click","button for saving quickly with one click"),icon:h?"check":"add",color:h?x:b,size:"24"})})})})})]})}}const j=(0,o.connect)(((e,{pinId:n})=>({savedInfo:e.pins[n]&&e.pins[n].savedInfo,pinnedToBoard:e.pins[n]&&e.pins[n].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:n}=(0,P.F9)(),i=(0,s.ZP)(),r=(0,l.Z)(),a=(0,o.useDispatch)(),d=(0,f.k6)(),c=(0,f.TH)(),{isRTL:u}=(0,o.useSelector)((({session:e})=>e)),p=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),h=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),_=(0,o.useSelector)((e=>{var n;return null===(n=(0,m.ts)(e))||void 0===n?void 0:n.pin_count})),x=h&&!!p&&p===e.pinId,{pins:y,clear:T}=(0,b.Z)(),k=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{h&&!k.current&&y.length>0&&(k.current=!0,y.forEach((({id:e})=>{a((0,g.Bp)({history:d,i18n:i,onSuccess:()=>{},pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:_})).catch((e=>{(0,w.My)(`error.unauth_profile_pin_merge.${e}`)}))})),T())})),(0,v.jsx)(S,{...e,i18n:i,requireAuthForLimitedLogin:r,history:d,location:c,showToast:n,shouldShowSaveHandoffExp:x,isRTL:u})}));j.displayName="OneTapSave";const I=j;var C=i(819086),E=i(123686);function A({boardUrl:e,boardName:n,isQuicksave:i,sectionName:t,sectionSlug:o}){const r=(0,s.ZP)(),a=(0,f.k6)(),l=new _.Ry(1),d=!!o&&`${e}${o}/`;return(0,v.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:l,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,v.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,v.jsx)(_.iP,{onTap:n=>{n.event.preventDefault(),a.push(i?"/me/":d||e)},children:(0,v.jsx)(_.xv,{color:"inverse",children:t?(0,E.nk)(r._("Saved to {{sectionName}}","PinCard.SavedToSection.Overlay","Saved to section overlay"),{sectionName:(0,v.jsx)(_.xv,{color:"inverse",weight:"bold",inline:!0,children:(0,C.ZP)(t,22)},`pincard-${t}`)}):(0,E.nk)(r._("Saved to {{boardName}}","PinCard.SavedToBoard.Overlay","Saved to board overlay"),{boardName:(0,v.jsx)(_.xv,{color:"inverse",weight:"bold",inline:!0,children:i?r._("Profile","PinCard.SavedToProfile.Overlay",'Part of string saying "Saved to Profile" after saving a Pin'):(0,C.ZP)(n,22)},`pincard-${n}`)})})})})})}var O=i(237785),L=i(371974),D=i(532180),R=i(441891);const Z=({domainLinkData:e})=>{const n=(0,s.ZP)(),i=(0,D.g)();return(0,v.jsxs)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,v.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,v.jsx)(_.X6,{size:"sm",align:"center",color:"white",children:n._("Open","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.")})}),!!e&&(0,v.jsx)(_.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,v.jsx)(R.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})},U=({width:e,height:n,minY:i,maxY:t})=>{const o=n=>e<=0||!n?"0%":Math.round(n/e*100)+"%";return{top:i<=0?"0%":o(-1*i*n),bottom:t>=1?"0%":o(-1*(1-t)*n)}},N=({children:e,margin:n,disableRounding:i})=>(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:n?{marginTop:n.top,marginBottom:n.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,v.jsx)(_.zd,{wash:!0,rounding:i?0:4,children:e})}),M=({clientTrackingParams:e,color:n,description:i,domainLinkData:r,hideBottomCardText:a,image:l,imageAltText:d,imageCrop:c,isMessenger:u,isOneTapExploreLocalTab:p,isSquarePin:m,onError:h,oneTapSave:g,onLoad:f,pinId:x,pinnedToBoardId:y,pinVideo:b,disableRounding:w,storyData:T,title:P,type:k,videoDuration:S,viewType:j})=>{var C,E,D,R,M,B,F,H;const z=(0,s.ZP)(),[W,G]=(0,t.useState)(!1),$=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),V=(0,L.ZP)(),Y=(0,o.useSelector)((({pins:e})=>e[x])),q=(0,o.useSelector)((({boards:e})=>e[y||Y&&Y.board])),X=y&&Y.savedThisSession,J=r&&r.link?"with-link":"without-link",K=!$&&"desktop"!==V,Q=(0,v.jsx)(_.Ee,{alt:d||P||i||"",color:n,naturalHeight:null!==(C=l.height)&&void 0!==C?C:1,naturalWidth:null!==(E=l.width)&&void 0!==E?E:1,onError:h,onLoad:f,src:null!==(D=l.url)&&void 0!==D?D:"",fit:m?"cover":void 0}),ee=m?(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,v.jsx)(_.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Q})}):Q;return(0,v.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,v.jsxs)(_.xu,{"data-test-id":`pincard-${k}-${J}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:K?void 0:()=>G(!0),onMouseLeave:K?void 0:()=>G(!1),position:"relative",rounding:w?0:4,children:[(0,v.jsxs)(I,{clientTrackingParams:e||"",oneTapSave:g,isOneTapExploreLocalTab:p,pinId:x,pinnedToBoardId:y,viewType:j,children:["gif"===k&&!a&&!X&&(0,v.jsx)(O.Z,{text:z._("GIF","pin.pinCard.gifIconIdentifier","pin type identifier for gifs")}),"video"===k&&S&&!a&&!X&&(0,v.jsx)(O.Z,{text:S}),"storyPin"===k&&T&&"number"==typeof T.page_count&&T.page_count>0&&!X&&(0,v.jsx)(O.Z,{icon:"idea-pin",text:T.page_count.toString()}),(0,v.jsx)(N,{disableRounding:w,margin:c?U({width:null!==(R=l.width)&&void 0!==R?R:1,height:null!==(M=l.height)&&void 0!==M?M:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===k&&u&&b?(0,v.jsx)(_.nk,{accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:z._("Progress bar","PinCardVisual.accessibilityProgressBarLabel","Video progress bar accessibility label"),accessibilityUnmuteLabel:"",aspectRatio:b.width/b.height,captions:"",loop:!0,playing:!0,playsInline:!0,poster:null!==(B=l.url)&&void 0!==B?B:"",src:b.url,volume:0}):ee})]}),W&&!$&&(0,v.jsx)(Z,{domainLinkData:r}),$&&X&&(0,v.jsx)(A,{boardName:q.name,boardUrl:q.url,sectionName:null==g||null===(F=g.section)||void 0===F?void 0:F.title,sectionSlug:null==g||null===(H=g.section)||void 0===H?void 0:H.slug,isQuicksave:"quick_saves"===q.layout})]})})}},237785:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(710159),o=i(911439),r=i(883119),a=i(785893);function s({text:e,icon:n,largeIdentifier:i,largeMargin:s}){const l=(0,t.ZP)();return(0,a.jsxs)(r.xu,{zIndex:new r.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,o.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:i?4:void 0,height:i?36:24,top:!0,children:[n&&(0,a.jsx)(r.xu,{marginEnd:i?2:1,children:(0,a.jsx)(r.JO,{accessibilityLabel:l._("identifier that shows the pin type","pin.pincard.iconAccessibilityLabel","shows an icon with the pin type"),color:"darkGray",icon:n,inline:!0,size:i?18:12})}),(0,a.jsx)(r.xv,{inline:!0,size:i?"md":"sm",weight:"bold",children:e})]})}},175429:(e,n,i)=>{function t(e){const n=Object.keys(e);if(n.length>0){return n.sort(((n,i)=>e[i]-e[n])).slice(0,3)}return null}function o(e){const n=Object.values(e);if(n.length>0){return n.reduce(((e,n)=>e+n),0)}return 0}function r(e){const{videos:n,is_downstream_promotion:i,is_promoted:t,story_pin_data_id:o,board:r}=e;return!(t||i||(!n||!n.id)&&!o||r&&r.is_collaborative)}i.d(n,{At:()=>t,Ud:()=>o,J6:()=>r})},586419:(e,n,i)=>{i.d(n,{Z:()=>f});var t=i(667294),o=i(40142),r=i(916389),a=i(710159),s=i(84739),l=i(911439),d=i(371974),c=i(855168),u=i(827929),p=i(740049),m=i(883119),h=i(785893);function g({board:e,pinner:n}){var i,t;const o=(0,c.TH)();if(!e.url||!e.name)return null;const r=e.url.split("/")[1],a=n&&n.full_name?n.full_name:r,s=n&&(n.image_small_url||n.image_large_url);return(0,h.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[s?(0,h.jsx)(m.iP,{role:"link",href:`/${r}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,p.LW)({action:"click",page_location:o,item:"see-more-button-creator"})},children:(0,h.jsx)(m.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,children:(0,h.jsx)(m.Ee,{naturalHeight:32,naturalWidth:32,alt:a,fit:"cover",color:"rgb(231, 186, 176)",src:s})})},"profile-link"):null,(0,h.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(m.iP,{onTap:()=>{(0,p.LW)({action:"click",page_location:o,item:"see-more-button-creator-full-name"})},children:(0,h.jsx)(m.xv,{color:"default",inline:!0,size:"md",weight:"bold",children:(0,h.jsx)(m.rU,{href:`/${r}/`,inline:!0,tapStyle:"compress",children:a},"profile-link")},"profileLink")}),(0,h.jsx)(m.xv,{color:"default",inline:!0,size:"md",children:(0,h.jsx)(m.rU,{href:null!==(i=e.url)&&void 0!==i?i:"",inline:!0,tapStyle:"compress",children:null!==(t=e.name)&&void 0!==t?t:""},"board-link")},"boardLink")]})]})}function _({annotations:e,board:n,description:i,pinner:t,title:o}){return(0,h.jsxs)(m.xu,{children:[(0,h.jsx)(m.xu,{marginBottom:2,children:e.length>0&&(0,h.jsx)(s.Z,{annotations:e,mode:"expanded"})}),(0,h.jsx)(m.xu,{marginBottom:3,children:(0,h.jsxs)(m.xu,{as:"figcaption",children:[(0,h.jsx)(m.X6,{color:"darkGray",size:"sm",accessibilityLevel:3,children:o}),(0,h.jsx)(m.xu,{height:4}),(0,h.jsx)(m.xv,{color:"default",children:i})]})}),!!n&&(0,h.jsx)(g,{board:n,pinner:t})]})}function f({pin:e,board:n,iconColor:i,pinner:s,size:g,isMainPin:f}){const v=(0,a.ZP)(),{unauthInterstitialDismissed:x,isSeoBot:y}=(0,o.useSelector)((({session:e})=>e)),[b,w]=(0,t.useState)(!1),T=(0,d.HG)(),{annotationsWithLinks:P,description:k}=(0,u.eK)(e),S=(0,u.fs)(e)||e.description,j=!T,I=(0,c.TH)(),C=(0,h.jsx)(m.xu,{color:(0,l.Yc)()?"darkGray":"white",dangerouslySetInlineStyle:{__style:{border:(0,l.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:j?"100%":"100vw",zIndex:new m.Ry(1),children:(0,h.jsxs)(m.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:x?0:12,children:[(0,h.jsx)(m.xu,{left:!0,position:"absolute",top:!0,color:"white",padding:4,children:(0,h.jsx)(m.hU,{accessibilityLabel:v._("Cancel","close modal icon","close modal icon"),icon:"cancel",size:"sm",onClick:()=>{(0,p.My)("mweb.unauth.see_more.dismissed"),(0,p.LW)({action:"click",page_location:I,item:"close-seo-vase-see-more-button"}),w(!1),f&&(0,p.My)("mweb.unauth.see_more.main_pin.dismissed")}})}),(0,h.jsx)(m.xu,{marginBottom:8,children:(0,h.jsx)(m.xv,{align:"center",weight:"bold",children:(0,h.jsx)("span",{className:"deprecatedTextSizeXL",children:v._("More information","more information label","more information label")})})}),(0,h.jsx)(_,{annotations:P,board:n,description:k,pinner:s,title:S})]})});return(0,h.jsxs)(m.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,h.jsx)(m.hU,{accessibilityLabel:v._("See more","more information icon","more information icon"),icon:"ellipsis",iconColor:i,size:g||"md",onClick:({event:e})=>{e.stopPropagation(),(0,p.My)("mweb.unauth.see_more.shown"),(0,p.LW)({action:"click",page_location:I,item:"seo-vase-see-more-button"}),w(!0),f&&(0,p.My)("mweb.unauth.see_more.main_pin.shown")}}),y&&j?(0,h.jsx)(m.xu,{display:b?"flex":"none",children:C}):(0,h.jsx)(r.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:b,closeOnOutsideClick:!1,onDismiss:()=>{},children:C})]})}},528410:(e,n,i)=>{i.d(n,{j:()=>l,Z:()=>d});var t=i(710159),o=i(883119),r=i(112978),a=i(123686),s=i(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:n,sponsorName:i,sponsorshipStatus:d,textColor:c}){const u=(0,t.ZP)(),p=(0,r.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let m;n?m=(0,a.nk)(u._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:i}):d||0===d?m=i&&!l.includes(d)?(0,a.nk)(u._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:i}):u._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):e&&(m=u._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));const h=p&&!n?"Ad • ":"";return(0,s.jsxs)(o.xv,{color:c,size:"sm",children:[h,m]})}},84739:(e,n,i)=>{i.d(n,{Z:()=>u});var t=i(667294),o=i(710159),r=i(740049),a=i(855168),s=i(883119),l=i(785893);function d({direction:e,handleClick:n,testId:i}){const t=(0,o.ZP)(),d=(0,a.TH)();return(0,l.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{(0,r.LW)({action:"click",page_location:d,item:"board-pills-arrow"}),n(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":i,children:(0,l.jsx)(s.JO,{accessibilityLabel:t._("Scroll","annotations.scrollArrow","Accessibility label for scroll arrow button"),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"gray"})})}function c({name:e,url:n}){const[i,o]=(0,t.useState)(!1),d=(0,a.TH)();return(0,l.jsx)(s.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"lightGray",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:(0,l.jsx)(s.xv,{color:i?"gray":"darkGray",inline:!0,overflow:"breakWord",size:"sm",weight:"bold",children:n?(0,l.jsx)(s.rU,{inline:!0,tapStyle:"compress",href:n,rounding:8,onClick:()=>{(0,r.LW)({action:"click",page_location:d,item:"vase-tag"})},children:e}):e})})}function u({annotations:e,mode:n}){const[i,o]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),m=(0,a.TH)(),h=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=h.current,i=()=>{if("inlineWithScrollArrows"===n&&h.current){const e=h.current,n=Math.max(0,e.scrollLeft),i=n+e.clientWidth;o(0!==n),p(i<e.scrollWidth)}else o(!1),p(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}}),[n]);const g=e=>n=>{n.preventDefault(),n.stopPropagation(),"right"===e&&(0,r.LW)({action:"click",page_location:m,item:"board-pills-arrow-button-right"});const i=h.current;if(!i)return;const t=("left"===e?-1:1)*i.clientWidth*.5;i.scrollLeft=Math.min(Math.max(i.scrollLeft+t,0),i.scrollWidth)};return(0,l.jsx)(s.kC,{alignItems:"center",justifyContent:"end",children:(0,l.jsxs)(s.xu,{display:"flex",overflow:"hidden",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[i&&(0,l.jsx)(d,{direction:"left",handleClick:g("left"),testId:"left-scroll-arrow"}),(0,l.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",padding:"4px 0",whiteSpace:"nowrap"}},ref:h,display:"expanded"===n?"flex":void 0,wrap:"expanded"===n,children:e.map((({name:e,url:n})=>(0,l.jsx)(c,{name:e,url:n},n||e)))}),u&&(0,l.jsx)(d,{direction:"right",handleClick:g("right"),testId:"right-scroll-arrow"})]})})}},222729:(e,n,i)=>{i.d(n,{Z:()=>c});var t=i(667294),o=i(710159),r=i(477783),a=i(496890),s=i(883119),l=i(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:n,showText:i,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const m=(0,o.ZP)(),[h,g]=(0,t.useState)(!1),{dangerousInlineStyle:_,iconColor:f}=(0,a.W)(!!e);return(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{(0,r.So)({component:13534,element:11717}),g(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex","data-test-id":`verified-badge-icon-${f}`,children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?m._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"):m._("Badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),icon:"workflow-status-ok",color:f,inline:!0,size:d[n]}),i&&!c&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:_,children:m._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})})]})}),(e||i&&!c)&&(0,l.jsx)(a.Z,{showModal:h,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},496890:(e,n,i)=>{i.d(n,{W:()=>h,Z:()=>g});var t=i(667294),o=i(916389),r=i(632589),a=i(710159),s=i(911439),l=i(957934),d=i(883119),c=i(477783),u=i(785893);const p="#66CCFF",m={color:p},h=e=>{const n=(0,s.Yc)();return{iconColor:e?n?p:"blue":"red",dangerousInlineStyle:{__style:n?m:{}}}};function g({inspirationalBadges:e=[],inspirationalBadgesColor:n,showModal:i,setShowModal:s}){const p=(0,a.ZP)(),[m,g]=(0,t.useState)(!0),{dangerousInlineStyle:_,iconColor:f}=h(!0);return(0,t.useEffect)((()=>{i&&m&&(g(!1),(0,c.j)({event_type:13,component:13534}))}),[i]),(0,u.jsx)(o.ZP,{"data-test-id":"modal",isOpen:i,mobileHideCloseIcon:!0,onDismiss:()=>{(0,c.So)({component:13534,element:11716}),s(!1)},type:"verified_merchant_modal",children:(0,u.jsx)(d.xu,{padding:3,children:(0,u.jsxs)(d.xu,{display:"flex",direction:"column",paddingY:4,paddingX:10,"data-test-id":"verified-badge-modal",children:[(0,u.jsx)(d.xu,{display:"flex",dangerouslySetInlineStyle:_,justifyContent:"center",children:(0,u.jsx)(d.JO,{accessibilityLabel:p._("Merchant verification badge icon","creator.verifiedMerchant.modalIcon","Badge indicating that a merchant or user is verified"),color:f,icon:"workflow-status-ok",size:24})}),(0,u.jsx)(d.xu,{marginTop:4,children:(0,u.jsx)(d.xv,{color:"shopping",weight:"bold",align:"center",children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:_,children:p._("Verified merchant","creator.verifiedMerchant.modalHeader","this merchant is a verified merchant")})})}),(0,u.jsx)(d.xu,{marginTop:4,children:(0,u.jsx)(d.xv,{align:"center",overflow:"normal",children:p._("This retailer meets Pinterest's Merchant Guidelines","creator.verifiedMerchant.modalText.","this merchant is a verified merchant")})}),e.map((e=>(0,u.jsxs)(d.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,u.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(d.xv,{overflow:"noWrap",children:(0,u.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,dangerouslySetInlineStyle:{__style:(0,l.ym)(n)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,u.jsx)(d.xu,{marginTop:2,children:(0,u.jsx)(d.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,u.jsxs)(d.xu,{display:"flex",marginTop:8,justifyContent:"between","data-test-id":"verified-badge-modal-got-it",children:[(0,u.jsx)(d.xu,{width:"100%",children:(0,u.jsx)(d.zx,{fullWidth:!0,onClick:()=>{s(!1)},size:"md",text:p._("Got it","creator.verifiedMerchant.modalButton.","explanation text to close the modal")})}),(0,u.jsx)(d.xu,{marginStart:2,width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,u.jsx)(d.zx,{role:"link",accessibilityLabel:p._("Learn more","creator.verifiedMerchant.buttonText","learn more about the verified merchant program by visiting help.pinterest.com"),color:"red",target:"blank",size:"lg",href:r.Z.settings.HELP_SHOPPING_WITH_PINTEREST,text:p._("Learn more","creator.verifiedMerchant.buttonText","learn more about the verified merchant program by visiting help.pinterest.com")})})]})]})})})}},138797:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(667294),o=i(597569),r=i(740049);const a=({viewType:e,viewParameter:n,viewData:i,auxData:t,objectIdStr:o,component:a,clientTrackingParams:s,element:l},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:n,view_data:i,aux_data:t,object_id_str:o,component:a,clientTrackingParams:s,element:l},Object.keys(u).reduce(((e,n)=>(void 0!==u[n]&&(e[n]=u[n]),e)),{}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),d(c)};function s(e){const{auxData:n,clientTrackingParams:i,children:r,component:s,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,o.Z)(),h=JSON.stringify(n),g=JSON.stringify(c);return(0,t.useEffect)((()=>{a(e,m)}),[m,h,i,s,l,d,g,u,p]),t.Children.only(r)}},151994:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(667294),o=i(405658),r=i(540690),a=i(907683),s=i(477783),l=i(99417),d=i(855168),c=i(740049),u=i(785893);function p({children:e,componentType:n,within:i}){const p=(0,d.TH)(),{viewType:m,viewParameter:h}=(0,l.SU)();(0,t.useEffect)((()=>{(0,c.LW)({action:"view",item:"download-button",page_location:p,within:i})}),[p,i]);const g=(0,r.Z)();return(0,t.useEffect)((()=>{g||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${i}`)}),[g,i]),(0,u.jsx)(o.Z,{children:t=>e({handleOpenApp:e=>{var o;((0,c.LW)({action:"click",item:"download-button",page_location:p,within:i}),(0,c.NC)("press_open_app",!0),(0,s.So)({component:n||13106,element:10308,view_type:m,view_parameter:h}),t)&&t(null!==(o=null==e?void 0:e.deepLinkUri)&&void 0!==o?o:""+((0,a.am)(p)?"board/":"")+p.pathname.substr(1))}})})}},505621:(e,n,i)=>{i.d(n,{Z:()=>m});var t=i(40142),o=i(328443),r=i(319514),a=i(710159),s=i(741012),l=i(347676),d=i(674014),c=i(883119),u=i(785893);const p=({isOpen:e,onDismiss:n,onOpenInApp:i,to:d})=>{const p=(0,a.ZP)(),{isTablet:m,userAgent:h,userAgentPlatform:g}=(0,t.useSelector)((({session:e})=>e)),_=(0,l.Rp)({platform:g,userAgent:h}),f=(0,s.Z)({href:null!=d?d:""}),v=m?60:40;return(0,u.jsx)(r.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,u.jsxs)(c.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,u.jsx)(c.xu,{display:"inlineBlock",position:"absolute",children:(0,u.jsx)(c.xu,{"data-test-id":"appUpsell-continue",children:(0,u.jsx)(c.hU,{accessibilityLabel:p._("close icon background","accesibility label for close icon on a overlay","accesibility label for close icon on a overlay"),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{n({event:e}),f&&!e.defaultPrevented&&(i(),f({event:e}))},size:"lg"})})}),(0,u.jsxs)(c.xu,{paddingX:2,paddingY:6,children:[(0,u.jsx)(c.xu,{paddingY:2,justifyContent:"center",display:"flex",children:_?(0,u.jsx)(o.Z,{size:v}):(0,u.jsx)(c.JO,{color:"red",icon:"pinterest",accessibilityLabel:"Pinterest App",size:v})}),(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.X6,{align:"center",size:"sm",children:_?p._("Try Pinterest Lite","mweb.app_upsell.lite_app_upsell_title","Mobile Web App Upsell title informing the value of downloading the lite app"):p._("The best experience is on the app","mweb.unauth.app_upsell.app_value_prop","Mobile Web App Upsell title on Pin click informing the value of downloading an pp")})}),(0,u.jsx)(c.xv,{align:"center",size:"lg",children:_?p._("A space-saving way to discover new ideas","mweb.app_upsell.lite_app_value_prop","Mobile Web App Upsell subheading informing the user the value of downloading the lite app"):p._("Free, unlimited access to ideas","Value proposition on mobile web home page","Value proposition on mobile web home page")}),(0,u.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,u.jsx)(c.zx,{fullWidth:!0,size:"lg",color:"red",onClick:i,text:p._("Get the app","mweb.app_upsell.app_upsell_button_text","Button to get the Pinterest Lite app")})})]})]})]})})};function m({clientTrackingParams:e,isOpen:n,onDismiss:i,onOpenInApp:t,shouldTrackDismiss:o,to:r,viewParameter:a,viewType:s}){return(0,u.jsx)(d.Z,{clientTrackingParams:e,viewType:s,viewParameter:a,children:(0,u.jsx)(p,{isOpen:n,onDismiss:e=>{o&&(0,d.y)(),i(e)},onOpenInApp:()=>{(0,d.y)(),t()},to:r})})}},674014:(e,n,i)=>{i.d(n,{y:()=>c,Z:()=>u});var t=i(667294),o=i(542204),r=i(138797),a=i(829680),s=i(340813),l=i(198873),d=i(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:n,viewParameter:i,viewType:s}){return(0,o.Z)()||(0,a.FP)(window)?null:(0,d.jsx)(r.Z,{viewType:s,viewParameter:i,component:13106,clientTrackingParams:n,children:(0,d.jsx)(t.Fragment,{children:e})})}},540690:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(40142);const o=()=>(0,t.useSelector)((({session:{canUseNativeApp:e}})=>e))},198611:(e,n,i)=>{i.d(n,{ZP:()=>g,j$:()=>h,Ys:()=>p,IS:()=>m});var t=i(883119),o=i(785893);function r({category:e,ingredients:n,textSize:i="lg"}){return(0,o.jsxs)(t.xu,{marginBottom:4,children:[e&&(0,o.jsx)(t.xu,{children:(0,o.jsx)(t.xv,{weight:"bold",size:i,children:e})}),(null!=n?n:[]).map((e=>{var n,r;return(0,o.jsx)(t.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,o.jsxs)(t.xv,{size:i,children:[e.amt||null," ",e.name]})},`${null!==(n=e.name)&&void 0!==n?n:""}-${null!==(r=e.name)&&void 0!==r?r:""}`)}))]})}var a=i(364170),s=i(371974),l=i(123686),d=i(776260),c=i(571154),u=i(710159);const p=({m:e,h:n,rm:i,rh:t},o)=>e&&(!n||t<=0)?(0,l.nk)(o.ngettext("{{mins}} minute","{{mins}} minutes",i,"number showing the minutes to complete a recipe","number showing the minutes to complete a recipe"),{mins:i.toString()}):n?(0,l.nk)(o.ngettext("{{hrs}} hour","{{hrs}} hours",t,"number showing the hours to complete a recipe","number showing the hours to complete a recipe"),{hrs:t.toString()}):null,m=({m:e,h:n,rm:i,rh:t,i18n:o})=>e&&(!n||t<=0)?(0,l.nk)(o._("{{mins}}m","number showing minutes to complete a recipe","number showing mnutes to complete a recipe"),{mins:i.toString()}):n?(0,l.nk)(o._("{{hrs}}h {{mins}}m","number showing hours to complete a recipe","number showing hours to complete a recipe"),{hrs:n.toString(),mins:e.toString()}):null,h=(e,n)=>{let i;return i=e.cook_times&&e.cook_times.total?(0,c.X)({m:e.cook_times.total.m||0,h:e.cook_times.total.h||0}):(0,c.X)({m:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.m||0,h:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.h||0}),p(i,n)},g=({recipe:e,pinLink:n,image:i})=>{const l=(0,u.ZP)(),c=(0,s.ZP)(),{name:p,categorized_ingredients:m}=e,g=m&&(e=>{const n=e.diets&&e.diets.length>0&&e.diets.join(", "),i=e.servings_summary&&e.servings_summary.summary;return n&&i?`${n} • ${i}`:n||i})(e),_=(e=>e.categorized_ingredients?e.categorized_ingredients.reduce(((e,n)=>{var i,t;return e+(null!==(i=null===(t=n.ingredients)||void 0===t?void 0:t.length)&&void 0!==i?i:0)}),0):0)(e);return h(e,l)||_||g?(0,o.jsxs)(t.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,o.jsxs)(t.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,o.jsx)(t.xu,{marginBottom:4,children:(0,o.jsx)(t.xv,{weight:"bold",align:"desktop"===c?"start":"center",children:l._("Ingredients","Ingredients category heading for recipes","Ingredients category heading for recipes")})}),(0,o.jsxs)(a.Z,{itemScope:!0,itemType:d.G,children:[(0,o.jsx)("meta",{content:p,itemProp:"name"}),i&&(0,o.jsx)("meta",{content:i,itemProp:"image"}),Array.isArray(m)&&m.length>0&&(0,o.jsx)(t.xu,{column:12,"data-test-id":"single-column-ingredients",children:m.map((({category:e,ingredients:n},i)=>(0,o.jsx)(t.xu,{marginBottom:2,children:(0,o.jsx)(r,{category:e,ingredients:n,textSize:"lg"})},i)))})]})]}),(0,o.jsx)(t.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===c?"center":void 0,children:n&&(0,o.jsx)(t.rU,{href:n,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,o.jsx)(t.zx,{text:l._("Make it","closeup.recipe.make_it_button","label for button go to recipe link")})})})]}):null}},626587:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(371974),o=i(883119),r=i(183608),a=i(785893);const s=({children:e,roundedForLargeDevice:n})=>{const i="phone"!==(0,t.ZP)()&&n;return(0,r.VG)()?(0,a.jsx)(o.xu,{marginStart:-r.q3,marginEnd:-r.q3,rounding:i?6:void 0,overflow:i?"hidden":void 0,children:(0,a.jsx)(r.CK,{value:!1,children:e})}):e}},151015:(e,n,i)=>{i.d(n,{z:()=>l,Z:()=>m});var t=i(667294),o=i(40142),r=i(443109),a=i(883119),s=i(785893);const l=2500,d={__style:{right:"-105px"}},c={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},p={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=(0,t.memo)((({children:e})=>{const n=(0,o.useSelector)((({pins:e,session:n,users:i})=>{const t=i[n.userId].last_repin_id;return t?e[t]:null})),i=(0,o.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!i)return e;const{images:t}=n,{height:l,width:m,url:h}=(null==t?void 0:t["136x136"])||(null==t?void 0:t["236x"])||{};return(0,s.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(r.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,s.jsxs)(a.xu,{position:"relative",children:[(0,s.jsxs)(a.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:d,children:[(0,s.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:c}),(0,s.jsx)(a.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:u,children:(0,s.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,s.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=m?m:1,naturalHeight:null!=l?l:1,src:null!=h?h:""})})})]}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:p,children:e})]})]})}))},248924:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(40142),o=i(151015),r=i(708206),a=i(476891),s=i(358142),l=i(785893);const d=(0,r.compose)((0,t.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,a.a5)()),showRepinAnimation:()=>e((0,a.WF)())}})),(function(e){return n=>{const{hideRepinAnimation:i,showRepinAnimation:t}=n,{showToast:r,showOneToast:a}=(0,s.F9)();return(0,l.jsx)(e,{...n,showToast:r,showOneToast:a,showRepinConfirmation:(e,n)=>{n||t(),setTimeout((()=>{n||i(),r(e)}),o.z)}})}}))},660727:(e,n,i)=>{i.d(n,{o$:()=>o,ty:()=>r,vE:()=>a});var t=i(487889);const{Provider:o,MaybeConsumer:r,useMaybeHook:a}=(0,t.Z)("inviteContext")},37487:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(626587),o=i(710159),r=i(883119),a=i(785893);function s({isPinRep:e}){const n=(0,o.ZP)(),i=e?"darkGray":"white",s=(0,a.jsx)(r.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,a.jsx)(r.xu,{color:e?"lightGray":"darkGray",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,a.jsxs)(r.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(r.xu,{paddingY:4,children:(0,a.jsx)(r.JO,{accessibilityLabel:n._("Pin not available","story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel","Accessibility label on icon"),color:i,icon:"alert",size:20})}),(0,a.jsx)(r.xv,{align:"center",color:i,weight:"bold",children:n._("Unavailable","story-pin.Closeup.UnavailableStoryPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),(0,a.jsx)(r.xu,{paddingY:1,children:(0,a.jsx)(r.xv,{align:"center",color:i,children:n._("Removed by the creator","story-pin.Closeup.UnavailableStoryPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})});return e?s:(0,a.jsx)(r.xu,{height:"100vh",children:(0,a.jsx)(t.Z,{children:s})})}},122095:(e,n,i)=>{i.d(n,{Z:()=>g});var t=i(667294),o=i(230555),r=i(710159),a=i(745456),s=i(123686),l=i(458552),d=i(248252),c=i(740049),u=i(855168),p=i(883119),m=i(785893);const h=({children:e,onTap:n})=>{const[i,o]=(0,t.useState)(!1);return(0,m.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,m.jsx)(p.iP,{onTap:n,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})};function g({desktopContextMenuState:e,pin:n,pinner:i,isMainPinImage:g}){var _,f;const v=(0,r.ZP)(),x=(0,u.k6)(),y=(0,o.Z)(n),b=(0,l.Fi)({i18n:v,pin:n});let{sourceUser:w}=b;var T;w&&"string"!=typeof w||(w=null!==(T=n.link_domain)&&void 0!==T&&T.official_user?n.link_domain.official_user:i);const{full_name:P,username:k}=w,S=(null===(_=n.pin_join)||void 0===_?void 0:_.seo_breadcrumbs)&&n.pin_join.seo_breadcrumbs[0],j=null==S?void 0:S.name,I=null==S?void 0:S.url,[C]=(null===(f=n.pin_join)||void 0===f?void 0:f.visual_annotation)||[],E=(0,d.NO)(C),A=`/search/pins/?q=${encodeURIComponent(E)}&rs=image_only_attribution`,O=(0,a.Z)();return y?(0,m.jsxs)(p.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new p.Ry(99999),color:"white",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,m.jsx)(p.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,m.jsx)(p.JO,{icon:"pinterest",accessibilityLabel:v._("Pinterest logo","dweb.unauth.context_menu.pinterest_logo","Pinterest logo in the context menu"),color:"red"})}),(0,m.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.save_image"),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:n.id}}})},children:(0,m.jsx)(p.xv,{size:"md",weight:"bold",children:v._("Save image","dweb.unauth.context_menu.link.save_image","Link to save the image")})}),!g&&(0,m.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.open_plp_new_tab"),window.open(`/pin/${n.id}/`),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,m.jsx)(p.xv,{size:"md",weight:"bold",children:v._("Open link in new tab","dweb.unauth.context_menu.link.plp_new_tab","Link to open the pin in a new tab")})}),(C||!(!j||!I))&&(0,m.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.see_more_pins"),I?x.push(`${I}`):x.push(A)},children:j?(0,m.jsx)(p.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,s.nk)(v._("See more ideas about {{levelOneInterestName}}","dweb.unauth.context_menu.link.see_more_ideas.l1","Link to see similar pins"),{levelOneInterestName:j})}):(0,m.jsx)(p.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,s.nk)(v._("See more ideas about {{interestTag}}","dweb.unauth.context_menu.link.see_more_ideas.interest_tag","Link to see similar pins"),{interestTag:C})})}),!(!P||!k)&&(0,m.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.more_from_creator"),x.push(`/${k}/`)},children:(0,m.jsx)(p.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,s.nk)(v._("See more from {{full_name}}","dweb.unauth.context_menu.link.more_from_creator","Link to see more ideas from this creator"),{full_name:P})})}),(0,m.jsx)(t.Fragment,{children:(0,m.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup",desktopOptions:{modalType:"login"}})},children:(0,m.jsx)(p.xv,{size:"md",weight:"bold",children:v._("Log in or sign up for more","dweb.unauth.context_menu.link.login_signup","Link to log in or sign up")})})})]}):null}},707169:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(667294),o=i(222729),r=i(883119),a=i(785893);const s=function({badgeSize:e,badgeSpacing:n,fullName:i,verifiedType:s,truncate:l=!1}){const d=i.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return l?(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(r.xv,{lineClamp:1,weight:"bold",children:i}),(0,a.jsx)(r.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},paddingX:1,children:(0,a.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)("span",{children:c}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,a.jsx)(r.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},children:(0,a.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},328443:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(785893);function o({size:e,noCircle:n}){return(0,t.jsxs)("svg",{height:e,style:{display:"block"},viewBox:n?"3 3 70 70":"-3 -3 82 82",width:e,children:[n?null:(0,t.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,t.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},749050:(e,n,i)=>{function t(e){if(e){const n=e.shopping_flags||[],i={pin_is_shop_the_look:n.includes(2),is_available:n.includes(1),is_product_pin_v2:n.includes(5),is_rich_product_pin:n.includes(6)};return JSON.stringify(i)}}i.d(n,{Z:()=>t})},347676:(e,n,i)=>{i.d(n,{kp:()=>l,Rp:()=>d,G3:()=>c});var t=i(340813),o=i(274090),r=i(198873);const a=14*o.F4;function s(e,n,i){return e-n>i}const l=e=>{const n=function(){const e=Date.now(),n=Number((0,r.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,r.qn)("firstUpsellTime")),lastUpsellTime:n,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,n,i){const{currentTime:t,firstUpsellTime:o,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return i=i||a,!o||function(e,n,i){return e<n+i}(t,o,n)?!d:!!s(t,l,i)&&((0,r.L_)("firstUpsellTime"),!0)}(n,o.F4):function(e,n){const{currentTime:i,lastUpsellTime:t}=e;return n=n||a,!t||s(i,t,n)}(n)},d=({platform:e,userAgent:n})=>{try{return"android"===e&&parseFloat((e=>{const n=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return n?n[1]:void 0})(n))<7}catch(i){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},524138:(e,n,i)=>{i.d(n,{zu:()=>t,Uw:()=>o,AA:()=>r,k7:()=>a,zR:()=>s,dy:()=>l,QR:()=>d,KH:()=>c,E9:()=>u,rT:()=>p,IO:()=>m,EU:()=>h,ZR:()=>g,u9:()=>_});const t="OPEN_UNAUTH",o="openUnauthType",r="_isAfterLogin",a="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="unauthTopicsFollowed",p=["US","CA","NZ","AU"],m=new Set(["GB","IE"]),h=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),g=new Set(["BR","MX","AR","CL","CO","PE"]),_="ad_img"},855571:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(40142);function o(){return(0,t.useSelector)((({session:e})=>e.isAuthenticated))}},458552:(e,n,i)=>{i.d(n,{Fi:()=>t,CK:()=>o,AH:()=>r});const t=({i18n:e,isLego:n,pin:i,useGridTitleOrRichSummary:t})=>{const o=i.link_domain,r=i.native_creator,a=i.rich_metadata,s=i.rich_summary,l=i.attribution;let d,c,u,p,m,h,g,_,f=n?e._("From ","Closeup pin annotation","Closeup pin annotation"):e._("Saved from ","Closeup pin annotation","Closeup pin annotation"),v=e._("Visit","pin outbound link text","pin outbound link text"),x="",y="";if(r?_=r:o?(_=o.official_user,y=i.domain):_=i.origin_pinner||i.pinner,_&&"string"!=typeof _&&_.username?(h=`/${_.username}/`,g=_.full_name):g=y,!o||a&&a.recipe&&a.recipe.from_aggregated_data)f=e._("Saved by ","Closeup pin annotation","Closeup pin annotation");else{const t=!!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients);let o;a&&a.products&&a.products[0]&&(o=!!(a&&a.products[0].name&&a.products[0].offer_summary));const r=!(!a||!a.article),s=!(!a||!a.tutorial);var b,w,T;if(o)f=e._("Product sold by ","pin annotation","pin annotation"),p=null==a||null===(b=a.products)||void 0===b?void 0:b[0].offer_summary,m=null==a||null===(w=a.products)||void 0===w?void 0:w[0].shipping_info,x=null==a||null===(T=a.products)||void 0===T?void 0:T[0].name;else if(s)n&&(f=e._("From ","pin annotation","pin annotation")),f=e._("Saved from ","pin annotation","pin annotation");else if(t){var P,k,S,j;f=e._("Recipe from ","pin annotation","pin annotation"),v=e._("Make it ","pin outbound link text","pin outbound link text"),x=null==a||null===(P=a.recipe)||void 0===P?void 0:P.name,c=null==a?void 0:a.closeup_description,u=null!==(k=null==a?void 0:a.recipe)&&void 0!==k?k:null,null!==(S=u)&&void 0!==S&&null!==(j=S.aggregate_rating)&&void 0!==j&&j.rating_value&&"number"==typeof u.aggregate_rating.review_count&&(null!=a&&a.site_name||i.domain)?u.aggregate_rating.review_source=(null==a?void 0:a.site_name)||i.domain:u&&(u.aggregate_rating=null)}else if(r){var I;d=(null==a||null===(I=a.article)||void 0===I?void 0:I.date_published)&&new Date(a.article.date_published),x=null==a?void 0:a.title,f=e._("Article from ","pin annotation","pin annotation"),v=e._("Read it ","pin outbound link text","pin outbound link text")}}if(!p&&s){let n;var C,E,A;if(s&&s.products&&s.products[0])if(n=!!(s&&s.products[0].name&&s.products[0].offer_summary),n)f=e._("Product sold by ","pin annotation","pin annotation"),p=null===(C=s.products)||void 0===C?void 0:C[0].offer_summary,m=null===(E=s.products)||void 0===E?void 0:E[0].shipping_info,x=null===(A=s.products)||void 0===A?void 0:A[0].name}const O=(i.unified_user_note||"").trim();x=i.grid_title||i.title;let L=x;if(!L&&t){const e=i.grid_title;L="string"==typeof e?e:(i.rich_summary||{}).display_name}c=i.closeup_unified_description&&i.closeup_unified_description.trim();return{actionButtonText:v,avatar:_&&"string"!=typeof _&&(_.image_medium_url||_.image_small_url)||"",pinArticleDate:d,pinAttribution:l,pinCreditLink:h,pinCreditPrefix:f,pinCredit:g,pinDescription:c,pinDownloadTitle:L,pinProduct:p,pinShippingInfo:m,pinTitle:x,pinCategory:i.category,pinRecipe:u,sourceUser:_,trimmedUserNote:O}},o=e=>{const n=e.rich_metadata;return n?n.products?144:n.article?141:n.recipe?145:139:140},r=e=>!!e.link&&!e.link.startsWith("https://i.pinimg.com")},665588:(e,n,i)=>{function t(e){return!!e.key}i.d(n,{Z:()=>t})},355247:(e,n,i)=>{i.d(n,{Mt:()=>p,fU:()=>m,CC:()=>h,dp:()=>g,H$:()=>_,p9:()=>f,Yi:()=>v,Yy:()=>y,Ff:()=>w});var t=i(186964),o=i(724207),r=i(498177),a=i(781228),s=i(256191),l=i(740049),d=i(340813),c=i(524138),u=i(198873);const p=(e,n,i,t,o,r,a=c.k7)=>{const s=(0,u.qn)(a)?JSON.parse((0,u.qn)(a)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:n||"",first_pin_id:i||"",image_info:t||"",pin_description:o||"",is_shared:!!r,pin_invite_code:r}];(0,u.Nh)(a,JSON.stringify(l.concat(s)))}},m=()=>{const e=(0,d.qn)(c.KH);if(!e)return[];let n;try{n=JSON.parse(e)}catch(i){n=[]}return n},h=({path:e,image:n,dominant_color:i,pin_description:t,pin_id:o})=>{const r=m();if(!r[0]||r[0].path!==e){const a=[{path:e,image:n,pin_description:t||"",dominant_color:i||"",pin_id:o||""}];(0,d.Nh)(c.KH,JSON.stringify(a.concat(r)))}};function g(e,n,i,t,o,r){p(e,n,i,t,o,r,c.zR)}const _=(e,n)=>{var i,t;p(e,n.image_signature,n.id,null===(i=n.images)||void 0===i?void 0:i["236x"],null!==(t=n.description)&&void 0!==t?t:"","",c.dy)};function f(e,n,i,t,o){p(e,n,i,t,o,"",c.QR)}function v(){const e=o.ZP.create("UnauthUserDataResource");return new Promise(((n,i)=>{e.callGet().then((e=>{const o=e.resource_response.data,r=!!t.U2(s.x3);return o?((0,a.Wn)(o.medium_image_url)&&(o.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),n(o)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),i({}))})).catch((e=>{if(e&&e.message){const n=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${n}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return i(e)}))}))}function x({i18n:e,location:n}){const i=n.pathname.startsWith("/signup"),t=n.pathname.startsWith("/login");if(!i&&!t)return{showPLPBanner:!1,pinForBanner:null};let o;try{o=JSON.parse((0,d.qn)(c.KH))}catch(r){o=[]}if(o&&o.length>0){const n=o[0];if(n)return n.bannerCopy=e._("More ideas like this await","page banner with pin image that was signed up from","page banner with pin image that was signed up from"),{showPLPBanner:Boolean(n.image),pinForBanner:n}}return{showPLPBanner:!1,pinForBanner:null}}const y=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function b({i18n:e,location:n}){var i;const t=(null===(i=n.state)||void 0===i?void 0:i.next)||y(n);if(t){const n=t.indexOf("?"),i=(0,r.mB)(t.substring(n));if(i.url&&i.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,r.Jx)(i.media),height:1,width:1},pinDescription:i.description,bannerCopy:e._("Save this idea and discover more inspiration like it.","page banner with pin image that was signed up from","page banner with pin image that was signed up from")}}}return{showPLPBanner:!1,pinForBanner:null}}function w({i18n:e,location:n}){return b({i18n:e,location:n}).showPLPBanner?b({i18n:e,location:n}):x({i18n:e,location:n}).showPLPBanner?x({i18n:e,location:n}):{showPLPBanner:!1,pinForBanner:null}}},24391:(e,n,i)=>{i.d(n,{g:()=>c,B:()=>d});var t=i(667294),o=i(740049),r=i(371974),a=i(122095),s=i(785893);const l=(0,t.createContext)((()=>()=>{})),d=()=>(0,t.useContext)(l),c=({children:e})=>{const[n,i]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[u,p]=(0,t.useState)(null),[m,h]=(0,t.useState)(!1),g=(0,r.HG)(),_=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,t.useEffect)((()=>_),[]);const f=!!n;return(0,t.useEffect)((()=>{const e=()=>{i(null),_(),(0,o.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),()=>{f&&document.removeEventListener("click",e)}}),[f]),(0,s.jsx)(l.Provider,{value:(e,n,t)=>r=>{g&&(r.preventDefault(),c(e),p(n),h(t),(0,o.My)("dweb.unauth.context_menu.open_menu"),i({xPosition:r.clientX,yPosition:r.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"))},children:(0,s.jsxs)(t.Fragment,{children:[e,g&&n&&d&&u&&(0,s.jsx)(a.Z,{desktopContextMenuState:n,pin:d,pinner:u,isMainPinImage:!!m})]})})}},5204:(e,n,i)=>{i.d(n,{Z:()=>l});var t=i(667294),o=i(542204),r=i(198873);const a=e=>{const n=(0,r.qn)(e);if(!n)return null;try{return JSON.parse(n)}catch(i){return null}};var s=i(112978);const l=()=>{const[e,n]=function(e){const n=(0,o.Z)(),[i,s]=(0,t.useState)(n?null:a(e));return(0,t.useEffect)((()=>{s(a(e))}),[e]),[i,(0,t.useCallback)((n=>{s(n),null===n?(0,r.L_)(e):(0,r.Nh)(e,JSON.stringify(n))}),[e])]}("unauthSavedPins"),i=null!==(d=null==(l=e)?void 0:l.pins)&&void 0!==d?d:[];var l,d;const c=e=>n((e=>e.length?{pins:e}:null)(e)),u=(0,s.tc)("mweb_unauth_extended_save_flow_v2"),p=()=>i.length<(u().anyEnabled?1:0);return{pins:i,save:e=>{p()&&c(i.filter((({id:n})=>n!==e.id)).concat([e]))},unsave:e=>c(i.filter((({id:n})=>n!==e))),isSaved:e=>i.some((({id:n})=>n===e)),clear:()=>c([]),canSaveMore:p}}},397512:(e,n,i)=>{i.d(n,{a:()=>o,k:()=>r});var t=i(138365);const o=e=>({type:t.cZ,payload:e}),r=e=>({type:t.U1,payload:e})},60538:(e,n,i)=>{function t(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}i.d(n,{Z:()=>t})},193640:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(928522),o=i(740049);function r(e,n){if(n&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const n=window.open(e,"_blank");return n&&(n.opener=null),n}{const n=(0,t.Z)(e);return setTimeout((()=>{(0,o.My)("setting_new_window_location")}),0),window.location.href=n,window}}},957934:(e,n,i)=>{i.d(n,{Dm:()=>s,yQ:()=>l,S4:()=>d,st:()=>c,QP:()=>u,Xe:()=>p,k$:()=>m,Fp:()=>h,lz:()=>g,NG:()=>_,_f:()=>f,Bu:()=>x,eT:()=>y,hm:()=>b,I:()=>w,ym:()=>P});var t=i(472045);const o=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),r=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),a=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(o).map((e=>o[e])),...Object.keys(r).map((e=>r[e]))],l=[...Object.keys(a).map((e=>a[e]))],d=3,c=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],p={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},m="storefront_inspirational_badges_web",h="storefront_inspirational_badges_colors",g="merchant_storefront_api_profile_badges",_="https://help.pinterest.com/article/merchant-details",f="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile",v=["US"];function x({areBadgesEnabled:e,country:n,verifiedMerchant:i}){var t,o;const r=null==i?void 0:i.isVerifiedMerchant,a=null==i||null===(t=i.inspirational_signal)||void 0===t?void 0:t.is_inspirational,s=null==i||null===(o=i.inspirational_signal)||void 0===o?void 0:o.is_eligible_for_storefront_badges;return Boolean(e&&r&&a&&s&&!!n&&v.includes(n.toUpperCase()))}function y(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function b(e){return e.profile_badges||[]}function w(e,n,i){if(!n||!i)return[];const t={[a.ECO_FRIENDLY]:e._("Your website indicates that your business is environmentally sustainable and/or uses upcycled or recycled materials","InspirationalBadges.controlsTooltip.eco_friendly","Tooltip description of a profile badge, 2nd person perspective"),[a.INCLUSIVE]:e._("Your website indicates that your business makes and markets products for a broader range of body types, sizes, ages and/or ethnicities","InspirationalBadges.controlsTooltip.inclusive","Tooltip description of a profile badge, 2nd person perspective"),[a.INVESTED_IN_GOOD]:e._("Your website indicates that your business is a philanthropic company and/or a registered B corp ","InspirationalBadges.controlsTooltip.invested_in_good","Tooltip description of a profile badge, 2nd person perspective"),[a.PERSONAL_TOUCH]:e._("Your website indicates that your business is a provider of artisanal/handmade products and/or innovative shopping/ delivery options","InspirationalBadges.controlsTooltip.personal_touch","Tooltip description of a profile badge, 2nd person perspective"),[a.RESPONSIBLY_SOURCED]:e._("Your website indicates that your business uses ethical business/labor practices, transparent manufacturing processes/ingredient lists and/or are fair trade certified","InspirationalBadges.controlsTooltip.responsibly_sourced","Tooltip description of a profile badge, 2nd person perspective")};return n.map((e=>i.find((n=>n.id===e.trim())))).filter(Boolean).map((e=>({...e,controlsTooltip:t[e.id]})))}function T(e){const n=(0,t.oo)(e);if(!n)return"white";const[i,o,r]=n;return(0,t.DW)(i,o,r)<=t.I?"white":"black"}function P(e){const n=e||u[0];return{backgroundColor:n,color:T(n)}}},472045:(e,n,i)=>{i.d(n,{vq:()=>o,oo:()=>r,I:()=>a,DW:()=>s});const t=e=>{const n=e.toString(16);return 1===n.length?"0"+n:n},o=(e,n,i)=>"#"+t(e)+t(n)+t(i),r=e=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n&&[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]},a=.18,s=(e,n,i)=>.2126*(e/255)**2.2+.7151*(n/255)**2.2+.0721*(i/255)**2.2},766279:(e,n,i)=>{function t(e){const n=Math.round(e/1e3),i=n%60;return Math.floor(n/60)+":"+(i<10?"0":"")+i}i.d(n,{Z:()=>t})},201361:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(667294);const o=()=>{const[e,n]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{n(!0)}),[]),e}},517198:(e,n,i)=>{i.d(n,{Mi:()=>o,lO:()=>r});var t=i(487889);const{Provider:o,useMaybeHook:r}=(0,t.Z)("pageContext")},96527:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(667294),o=i(71445),r=i(796874);function a(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class s extends t.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,n){try{const n=this.props.name,i=this.props.type||"secondary";(0,r.T)({errorBoundary:n,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:n})}render(){const{renderErrorState:e}=this.props,{error:n,info:i}=this.state;return n&&i?e?e({error:n,info:i,resetError:this.resetError}):null:this.props.children}}},53930:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i(96527).Z},156575:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(883119),o=i(785893);const r=(e,n)=>{const i=null==e?void 0:e.includes("images/user/default");return Boolean(i&&n)};function a({accessibilityLabel:e,name:n,outline:i,size:a,src:s,verified:l}){return(0,o.jsx)(t.qE,{accessibilityLabel:e,name:n,outline:i,size:a,src:r(s,n)?void 0:s,verified:l})}},916389:(e,n,i)=>{i.d(n,{b7:()=>s.b7,bN:()=>l,p4:()=>d,ZP:()=>c});var t=i(371974),o=i(883119),r=i(263116),a=i(785893),s=i(747678);const l=(0,r.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!i.m[n]},importAsync:()=>i.e(51879).then(i.bind(i,917404)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return i(n)},resolve(){return 917404}}),d=(0,r.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!i.m[n]},importAsync:()=>i.e(72430).then(i.bind(i,319514)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return i(n)},resolve(){return 319514}});function c(e){const n=(0,t.ZP)(),i=void 0===e.isOpen||e.isOpen;if("desktop"===n&&i){const{isOpen:n,mobileAccessibilityCloseIconLabel:i,mobileAllowScroll:t,mobileHideCloseIcon:o,mobileIsFullscreen:r,mobileIsSlideUp:s,type:d,...c}=e;return(0,a.jsx)(l,{...c})}const{allowClickAndDrag:o,allowMediaPlay:r,allowScroll:s,role:c,size:u,...p}=e;return(0,a.jsx)(d,{...p,isOpen:i})}},319514:(e,n,i)=>{i.r(n),i.d(n,{default:()=>_});var t=i(667294),o=i(909621),r=i(60538),a=i(353136),s=i(371974),l=i(710159),d=i(727853),c=i(952733),u=i(883119),p=i(747678),m=i(740049),h=i(785893);const g=e=>{e.preventDefault()};function _({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:n,align:i="center",allowScroll:_=!1,children:f,closeOnOutsideClick:v=!0,footer:x,heading:y,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:w,mobileIsFullscreen:T,isOpen:P,mobileIsSlideUp:k,modalStyle:S,onDismiss:j,overrideZDepth:I,subHeading:C,type:E}){const A=(0,l.ZP)(),{isRTL:O}=(0,c.B)(),L=(0,t.useRef)(!1),[D,R]=(0,t.useState)(!1),{setAppFocusState:Z}=(0,d.I)(),U=(0,s.ZP)();(0,t.useEffect)((()=>{(0,m.My)(`mweb_unauth.mobile_modal.${E||"unknown_type"}.did_mount.is_open.${String(!!P)}`)}),[P,E]),(0,t.useEffect)((()=>(L.current=(0,r.Z)((()=>{L.current&&R(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&L.current&&(window.cancelAnimationFrame(L.current),L.current=null)})),[]),(0,t.useEffect)((()=>(P?(o.Z.pause(),Z(!1)):(o.Z.resume(),Z(!0)),()=>{P&&(o.Z.resume(),Z(!0))})),[Z,P]);const N=P&&!_;(0,t.useEffect)((()=>(N&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{N&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[N]);const M=(0,p.bf)();if(!P)return null;const B=k?(0,p.Vf)({isFullscreen:T,isTablet:"tablet"===U,isShowing:D,type:E}):(0,p.JN)({isFullscreen:T,isTablet:"tablet"===U,modalStyle:S,type:E});return(0,h.jsx)(a.Z,{children:(0,h.jsx)(u.mh,{children:(0,h.jsxs)(u.xu,{"aria-label":n,display:"inlineBlock",zIndex:I?new u.Ry(I):p.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(u.iP,{accessibilityLabel:A._("Mobile Signup Modal Mask","mweb.signup_modal.mask","The acessibility label for the mask of mobile signup modal"),onTap:({event:e})=>{const n=e,i=j?"with":"without",t=E||"unknown_type";(0,m.tj)(`mweb_unauth.mobile_modal.wash_tap.${t}.${i}_dismissal`,{x:n.clientX,y:n.clientY}),v&&j&&j()},tapStyle:"none",children:(0,h.jsx)(u.xu,{position:"fixed",top:!0,left:!0,onTouchMove:_?()=>{}:g,dangerouslySetInlineStyle:M})}),(0,h.jsxs)(u.xu,{position:"fixed",color:"white",onTouchMove:g,dangerouslySetInlineStyle:B,children:[b&&!w&&(0,h.jsxs)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,h.jsx)(u.xu,{display:"flex",alignItems:"center",padding:2,children:(0,h.jsx)(u.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:j,padding:4,size:"sm"})}),(0,h.jsxs)(u.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:(0,p.ju)(Boolean(O)),children:[T?y:(0,h.jsx)(u.xv,{align:i,weight:"bold",size:"400",children:y}),C&&(0,h.jsx)(u.xv,{align:i,children:C})]})]}),(0,h.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[f,x]})]})]})})})}},747678:(e,n,i)=>{i.d(n,{b7:()=>a,ZM:()=>s,i_:()=>l,bf:()=>c,JN:()=>u,Vf:()=>p,ju:()=>m});var t=i(800065),o=i(911439),r=i(883119);const a=new r.Ry(1e3),s=new r.H3([t.Z]),l=12,d={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},c=()=>({__style:d.mask.baseStyles}),u=({isFullscreen:e,isTablet:n,modalStyle:i,type:t})=>{const o=d.modal.fullscreenStyles;let r;return r=e?o:n?d.modal.tabletStyles:"signup"===t?d.modal.nonTabletSignUpStyles:{...d.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:i||r}},p=({isFullscreen:e,isTablet:n,isShowing:i,type:t})=>{let o=d.modal.baseStylesSliding,r=i?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",n&&"related_interests_modal"===t&&(o={...o,...d.modal.tabletNarrowStyle},r=i?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}},m=e=>e?d.RTLheadingOffset:d.headingOffset},584230:(e,n,i)=>{i.d(n,{Z:()=>t});function t(e,n){if(!(e||{}).created_at&&!(n||{}).createdAt)return!1;let i="";n&&n.createdAt?i=n.createdAt:e&&e.created_at&&(i=e.created_at);const t=new Date(i);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},928583:(e,n,i)=>{i.d(n,{Rq:()=>t,Vf:()=>o,jd:()=>r,oy:()=>a});const t=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,o=28,r=e=>window.innerHeight>=748&&t(e),a=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},492833:(e,n,i)=>{function t(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}i.d(n,{Z:()=>a});const o=new class{constructor(){t(this,"onResumeListeners",[]),t(this,"onPauseListeners",[]),t(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((n=>n!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((n=>n!==e))}},r=e=>{if(e.isHidden){const{reason:n}=e;o.onPauseListeners.forEach((e=>e(n)))}else o.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const a=o},441891:(e,n,i)=>{i.d(n,{Z:()=>c});var t=i(514183),o=i(710159),r=i(517198),a=i(597569),s=i(883119),l=i(785893);const d=(e,n)=>{let i={};if(e){const{pinData:t,viewData:o}=e;i={unauth_click_pin_id:t.id,unauth_click_pin_image_signature:t.imageSignature},3===n?i={...i,unauth_page_pin_id:o.id,unauth_page_pin_image_signature:o.imageSignature}:5===n&&(i={...i,unauth_page_board_id:o.id})}return i},c=({clickLoggingOptions:e,domain:n,link:i,onClick:c})=>{var u;const p=null===(u=(0,r.lO)())||void 0===u?void 0:u.logging,m=(0,o.ZP)(),h=(0,a.Z)(),g=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((n=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...n})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),g().forEach((e=>h(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"white",accessibilityLabel:m._("Link","unauth.pin.domain.link","Link to take them to the source of the iamge")})}),(0,l.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),g().forEach((e=>h(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"md",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,t.Z)(n,27)})})]})})}},834375:(e,n,i)=>{i.d(n,{P:()=>a,t:()=>s});var t=i(724207);const o=()=>{};const r={complaint:function(e,n){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},followBoard:function(e,n){t.ZP.create("BoardFollowResource",e).callCreate().then((()=>n()))},followPinner:function(e,n){t.ZP.create("UserFollowResource",e).callCreate().then((()=>n()))},followTopic:function(e,n){t.ZP.create("InterestFollowResource",e).callCreate().then((()=>n()))},newsHubPinHide:function(e,n){t.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>n()))},promotedComplaint:function(e,n){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},relatedPinHide:function(e,n){t.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>n()))},reportPin:function(e,n){n()},showAdReasons:function(e,n){n()},unfollowBoard:function(e,n){t.ZP.create("BoardFollowResource",e).callDelete().then((()=>n()))},unfollowPinner:function(e,n){t.ZP.create("UserFollowResource",e).callDelete().then((()=>n()))},unfollowTopic:function(e,n){t.ZP.create("InterestFollowResource",e).callDelete().then((()=>n()))},unrelatedSearchPin:function(e,n){t.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>n()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,n,i=o){const t=e?r[e]:null;return t?t(n,i):i()}},716975:(e,n,i)=>{i.d(n,{ZP:()=>s,yl:()=>l,XZ:()=>d,nb:()=>c,EF:()=>u});var t=i(632589),o=i(834375),r=i(879268);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:n})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:i,board:t,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,p=r("navigation",u,o);return n(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:m,url_name:h}=c,g=r("topicUrl",`/topics/${h}`,m);return n(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:g});case"followed":const _=`/${s.username}`,f=r("boardUrl",t.url,a(t.name)),v=r("pinnerUrl",_,a(s.full_name));return s.explicitly_followed_by_me?n(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:v}):n(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:f});case"promoted":switch(i){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:i,username:t}=l,o=r("promotedLink",t?"/"+t+"/":"/",i);return n(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:n,viewParameter:i,pin:{promoter:t,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=n&&n.type;return t&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:t,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===n;let c,u;switch(n){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(n){case"search":u={query:e.query,pin_id:i};break;case"related":u={pin:i};break;case"newsHub":u={pinId:i,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:i,...t?{recommendation_reason_id:t}:{},feedback_type:o||1,promoted:d,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:i,feedbackType:t,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===t){if(s){const{id:i,name:t,url_name:a}=s,l=o("topicUrl",`/topics/${a}`,t,!0),d=n(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===t&&i&&a){const{id:t,name:r,url:s}=i||{},{explicitly_followed_by_me:l,full_name:d,username:c}=a,u=`/${c}`,p=o("boardUrl",s,r,!0),m=o("pinnerUrl",u,d,!0);let h=l?n(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:m,formattedBoard:p}):n(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return h=l?n(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:m}):n(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,n,i,t,r,a,s){return()=>{const l={...e,undo:!0};let d=n;"unfollowPinner"===n?d="followPinner":"unfollowBoard"===n?d="followBoard":"unfollowTopic"===n&&(d="followTopic"),(0,o.t)(d,l),a(i),s({event_type:101,component:0,element:11181,view_type:t,view_parameter:r})}}},230555:(e,n,i)=>{function t(e,n){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const i=e.images;if(!i)return"";if(n){const e="474x"===n&&i["474x"]||"236x"===n&&i["236x"]||i["736x"];if(e&&e.url)return e.url}const t=Object.keys(i).map((e=>{try{const n=e.split("x")[0];return Number.isNaN(Number(n))?(i[n]=i[e],n):e}catch(n){return""}}));t.sort();const o=t.pop();return i[o]&&i[o].url||""}i.d(n,{Z:()=>t})},397529:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(827929);const o=e=>(e||"").trim().replace(/\s+/g," "),r=e=>{const n=e||{};return!!n.story_pin_data_id?o(n.description):o((0,t.eK)(n).description)||o(n.closeup_unified_description||"")||o(n.closeup_description)||o(n.description)||o(n.rich_metadata&&n.rich_metadata.description)||""}},827929:(e,n,i)=>{i.d(n,{hP:()=>m,fs:()=>d,eK:()=>c,Ly:()=>u,RC:()=>s,EU:()=>l});const t=/\s\s+/g,o=e=>e.replace(t," ");var r=i(819086);const a=e=>"string"==typeof e?e:"",s=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,l=(e,n)=>e?e.trim().length>n?(0,r.ZP)(e.trim(),n).trim():e.trim():"",d=e=>{const{grid_title:n}=e||{},{hasRichAttributionTitle:i,hasPlaceInfo:t}=(e=>{const{place_summary:n,rich_summary:i}=e||{},t=i&&"mobile application"!==i.type_name;return{hasRichSummary:t,hasRichAttributionTitle:t&&i.display_name,hasPlaceInfo:!!n}})(e),o=s(e),r=l(n,200);return r||(i?(e=>{const{rich_summary:n}=e;let{apple_touch_icon_images:i,favicon_images:t}=n;return i=i||{},t=t||{},{faviconLink:i["50x"]||t["50x"]||i.orig||t.orig,siteName:n.site_name||e.domain,title:n.display_name}})(e).title:t?(e=>{const{place_summary:n}=e;return{faviconLink:n.source_icon,siteName:n.source_name||e.domain,title:n.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},c=e=>{const n=e.pin_join||{},i=n.visual_annotation||[],t=i.map((e=>(n.annotations_with_links||{})[e]||{name:e,url:""}));let a="";const s=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",d=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=s.toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim();return l&&l.length>3&&u!==d?a=l:s&&s.length>3&&c!==d&&(a=s),a&&(a=o((0,r.ZP)(a,496)).trim()),{description:a,vaseAnnotations:i,annotationsWithLinks:t}},u=(e,n,i)=>{const t=(i||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return d(e)||o(n)||o(t)||e.title},p=(e,n,i)=>n&&n.trim().length?i?n:e+" "+n:e,m=(e,n,i,t,o,r)=>{const s=a(e).trim();let l=s;if(i){const e=i.seo_description;if(e){const i=e.toLowerCase(),t=a(n);i!==s.toLowerCase()&&i!==t.trim().toLowerCase()&&(l=e)}l=p(l,t,o);let d=i.visual_annotation;d&&(0===r&&l.length>10?d=[]:r&&(d=d.slice(0,r)),d=d.join(", "),l&&(l+=" "),l+=d)}else l=p(l,t,o);return l}},879268:(e,n,i)=>{i.d(n,{X:()=>t});const t="favorited"},656831:(e,n,i)=>{i.d(n,{of:()=>p,yz:()=>m,l5:()=>h,xC:()=>g,kf:()=>_});var t=i(667294),o=i(71445),r=i(914861),a=i(542204),s=i(829680),l=i(487889),d=i(785893);const{Provider:c,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:n})=>{const[i,a]=(0,t.useState)(null),l=n||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,r.Z)((()=>{const e=(0,s.FB)(window)||"unknown";a(e),u!==e&&o.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&i?i:u,m=l.twaType;return(0,d.jsx)(c,{value:{pwaType:p,twaType:m},children:e})},m=()=>{var e;const n=u();return null!==(e=null==n?void 0:n.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;const n=u();return null!==(e=null==n?void 0:n.twaType)&&void 0!==e?e:null},g=()=>"android-twa"===m(),_=()=>{const e=m(),n=(0,a.Z)();return"unknown"===e&&n?null:"windows"===e}},229687:(e,n,i)=>{i.d(n,{A:()=>l,Z:()=>d});var t=i(667294),o=i(498913),r=i.n(o),a=i(883119),s=i(785893);const l=({fill:e,width:n,color:i})=>{const o="half"===e?(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:n,width:i,color:o}){const a=[],d=function(e,n){return 5*(n=n<=e?n:e)/e}(parseFloat(e)||5,parseFloat(n)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>a.push((0,s.jsx)(l,{color:o,fill:"full",width:i},e)))),u>=.75?a.push((0,s.jsx)(l,{color:o,fill:"full",width:i},a.length)):u>=.25&&a.push((0,s.jsx)(l,{color:o,fill:"half",width:i},a.length)),r()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:o,fill:"empty",width:i},a.length)))),(0,s.jsx)(t.Fragment,{children:a})}},571154:(e,n,i)=>{function t({m:e=0,h:n=0}){let i;return i=n<=0?n:e>45?n+1:e>15?n+.5:n,{m:e,h:n,rm:n>0?0:e,rh:i}}function o(e){const n=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:n})}i.d(n,{X:()=>t,u:()=>o})},364170:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(785893);const o=e=>{const n=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,t.jsx)("div",{...n,children:e.children||null})}},776260:(e,n,i)=>{i.d(n,{G:()=>t});const t="https://schema.org/Recipe"},958131:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(883119),o=i(785893);function r({accessibilityLabel:e}){return(0,o.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},185185:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(667294),o=i(785893);function r({children:e,fallback:n,dangerouslyServerRenderForGraphQL:i=!1}){const r=n||null;return(0,o.jsx)(t.Suspense,{fallback:r,children:e})}},741874:(e,n,i)=>{i.d(n,{Z:()=>t});const t=i(185185).Z},248252:(e,n,i)=>{i.d(n,{R3:()=>r,NO:()=>a,Jc:()=>s,th:()=>l,ge:()=>c});var t=i(413771);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:n="",index:i}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${n}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${n}|autocomplete|${i}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${n}|recentsearch|${i}`;case r.AUTO_COMPLETE_TRENDING:return`${n}|trending|${i}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${n}|recommended|${i}`;case r.SEARCH_GUIDE:return`${n}|guide|word|${i}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,t.Z)({term_meta:e.map((e=>s(e)))})}function d(e){if(e){const n=e.trim().split(/\s+/);return n.find((e=>o.includes(e.toLowerCase())))?[e]:n}return[]}function c({type:e,query:n="",index:i}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return d(n).map((n=>({index:i,term:n,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return d(n).map((n=>({term:n,type:e,index:i})));default:return[]}}},514183:(e,n,i)=>{i.d(n,{Z:()=>t});const t=(e,n)=>e.length>n?e.substr(0,n-3).trim()+"…":e},819086:(e,n,i)=>{i.d(n,{ZP:()=>t});function t(e,n=80,i="…",t=false){let o;if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||t)o=e.substring(0,n);else{const i=e.lastIndexOf(" ",n);o=e.substring(0,i)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+i}},542204:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(133017),o=i(201361);const r=()=>{const e=(0,t.Z)(),n=(0,o.Z)();return e&&!n}},133017:(e,n,i)=>{i.d(n,{G:()=>s,Z:()=>l});var t=i(667294),o=i(855168),r=i(785893);const a=(0,t.createContext)(!0);function s({children:e}){const n=(0,o.TH)(),[i,s]=(0,t.useState)(!0),l=(0,t.useRef)(n);return(0,t.useEffect)((()=>{l.current!==n&&(l.current=n,s(!1))}),[n]),(0,r.jsx)(a.Provider,{value:i,children:e})}function l(){return(0,t.useContext)(a)}},727853:(e,n,i)=>{i.d(n,{g:()=>m,I:()=>p});var t=i(667294),o=i(492833),r=i(150361),a=i.n(r);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,n)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===n.type)return{...e,showTypeaheadOverlay:n.payload};if("SET_CURRENT_VIDEO"===n.type){const{payload:i}=n,{pinId:t,isPromoted:o,currentTime:r}=i,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,c=a()(l),u=a()(d);return o?c[t]={pinId:t,currentTime:r,paused:!1}:u[t]={pinId:t,currentTime:r,paused:!1},{...e,videosAutoplaying:{promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_IS_AUTOPLAY"===n.type)return{...e,isAutoplay:n.payload};if("PAUSE_CURRENT_VIDEO"===n.type){const{payload:i}=n,{pinId:t,isPromoted:o,currentTime:r}=i,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,c=a()(l),u=a()(d);return o?c[t]={...c[t],paused:!0,currentTime:r}:u[t]={...u[t],paused:!0,currentTime:r},{...e,videosAutoplaying:{promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===n.type?{...e,appInFocus:n.payload}:"SET_VIEWPORT_SIZE"===n.type?{...e,viewportSize:n.payload}:"SET_FOOTER_VISIBILITY_STATE"===n.type?{...e,footerPlusButtonVisible:n.payload}:e};var d=i(487889),c=i(785893);const{Provider:u,useHook:p}=(0,d.Z)("AppUI");function m({children:e}){const[n,i]=(0,t.useReducer)(l,s),r=(0,t.useMemo)((()=>({pauseAutoplay:e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),setAppFocusState:e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),setCurrentVideo:e=>i({type:"SET_CURRENT_VIDEO",payload:e}),setFooterPlusButtonVisible:e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),setIsAutoplay:e=>i({type:"SET_IS_AUTOPLAY",payload:e}),setViewportSize:e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),toggleTypeaheadOverlay:e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})})),[]);return(0,t.useEffect)((()=>{o.Z.onSessionResume((()=>{r.setAppFocusState(!0)})).onSessionPause((()=>{r.setAppFocusState(!1)}))}),[r]),(0,c.jsx)(u,{value:{...r,appUI:n},children:e})}},796874:(e,n,i)=>{i.d(n,{T:()=>a,Z:()=>s});var t=i(256191),o=i(147064);const r=[];function a(e){let n;try{n=JSON.stringify({errorObj:e})}catch(l){n=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const i=(a={report_context:JSON.stringify({current_url:window.location.href,client_version:"fabe717"}),report_data:n},Object.keys(a).map((e=>e+"="+encodeURIComponent(a[e]))).join("&"));var a;const s=window.btoa(i);if(-1===r.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const n=(0,o.H)();n&&e.setRequestHeader("X-Pinterest-PWS-Handler",n),e.setRequestHeader("X-CSRFToken",function(e){const n=("; "+document.cookie).split("; "+e.name+"=");return 2===n.length?n.pop().split(";").shift():""}(t.fS)),e.send(i),r.push(s)}r.length>100&&r.shift()}function s(){window.addEventListener("error",(e=>{const n=e.error||{};a({name:n.name,message:n.message||e.message,stack:n.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var n,i,t,o,r;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:s}=e,l="string"==typeof(null==s?void 0:s.message)?s.message:String(s);a({name:null!==(n=null==s?void 0:s.name)&&void 0!==n?n:"unhandledrejection",message:l,message_detail:null==s?void 0:s.message_detail,original_message:null==s?void 0:s.original_message,stack:null==s?void 0:s.stack,filename:null==s?void 0:s.fileName,line:null!==(i=null!==(t=null==s?void 0:s.lineno)&&void 0!==t?t:null==s?void 0:s.line)&&void 0!==i?i:null==s?void 0:s.lineNumber,column:null!==(o=null!==(r=null==s?void 0:s.column)&&void 0!==r?r:null==s?void 0:s.colno)&&void 0!==o?o:null==s?void 0:s.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/60819-33073910b71e9b22.mjs.map