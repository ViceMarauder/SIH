(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[17138],{416131:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},483010:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},808310:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},963421:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},549658:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},275441:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},916611:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},344191:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},614860:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},317343:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},443140:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},522940:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},325634:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},204554:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},294700:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},594701:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},253833:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},495297:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},296875:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},231596:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},846653:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},47786:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},830866:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},375664:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},214298:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},647887:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},114200:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},813150:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},246184:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},935563:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},460628:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},199081:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},671157:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},747147:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},25078:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},622314:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},765409:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},690435:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},712627:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},387629:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},465843:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},951237:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},13820:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},990148:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},879191:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},59192:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},237258:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},424961:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},436044:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},206581:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},300633:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},690532:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},749406:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},370960:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},535389:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},590716:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},482925:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},370216:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},926410:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},777172:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},305067:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},621216:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},826132:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},681384:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},729566:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},972841:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},417138:(e,t,i)=>{i.d(t,{iK:()=>ae,G9:()=>ee,ZP:()=>le,kk:()=>Q,cV:()=>ne});var n=i(667294),r=i(40142),o=i(678391),s=i(443109),a=i(950624),l=i(60538),d=i(342548),c=i(950889),p=i(476891),u=i(710159),h=i(883119),m=i(785893);function x(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=[140,220,265],y="BizNuxHomefeedLoader",w=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${y}_FadeOut`}:{}}),_=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${y}_FadeOut`}:{},v=[`${y}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${y}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class j extends n.PureComponent{constructor(...e){super(...e),x(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),x(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),x(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:i,startExitAnimation:n}=this.state;!i||t||n||(0,l.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},(e=>[]));for(let n=0;n<t.length;n+=1){const e=t[n].getBoundingClientRect();i[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){const n=this.numberOfColumns+1,r=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*r+16*(e+1),top:i,width:r,height:f[(e+t)%f.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(d.DEFAULT_HEIGHT),n=this.gridCellDimensionsByColumn,r=e.map(((e,r)=>{const o=r%this.numberOfColumns,s=Math.floor(r/this.numberOfColumns),a=g[r%g.length],l=i[o],d=this.computeGridCellLayout(o,s,l),c=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const r=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:a,startAnimation:t,originDimension:d,destinationDimension:n&&n[o][s]});return i[o]+=16+d.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:_(t)},children:(0,m.jsx)(h.X6,{color:"white",size:"md",children:e.name})})},r)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${y}_SlideUp`}},children:r})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsx)(a.Z,{viewType:24,viewParameter:261,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(s.Z,{unsafeCSS:(0,c.Ll)(v)}),(0,m.jsx)(h.xu,{color:"white",dangerouslySetInlineStyle:{__style:w(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${y}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${y}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._("Personalizing your feed with...","Loading homefeed details","Loading homefeed details")})})]}),this.renderGrid()]})})]})})}}const b=(0,r.connect)((({topics:e})=>({selectedTopics:Object.keys(e).filter((t=>e[t].is_followed)).map((t=>e[t]))})),(e=>({dismissLoader:()=>e((0,p.MI)(!1))})))((function(e){const t=(0,u.ZP)();return(0,m.jsx)(j,{...e,i18n:t})}));var S=i(608548),I=i(81029),T=i(899695),k=i(71445),P=i(559729),C=i(165196),E=i(477783);const D=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],A=[140,220,265],F=e=>({position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}}),R=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{},Z=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"];function L({gridContainerRef:e,homefeedLoading:t}){const i=(0,u.ZP)(),[x,g]=(0,n.useState)(!1),[f,y]=(0,n.useState)(!1),w=(0,r.useDispatch)(),_=(0,r.useSelector)((({topics:e})=>Object.keys(e).filter((t=>e[t].is_followed)).map((t=>e[t]))));let v,j;(0,n.useEffect)((()=>(window.scrollTo(0,0),v=setTimeout((()=>{g(!0)}),3e3),()=>{clearTimeout(v),clearTimeout(j)})),[]),(0,n.useEffect)((()=>{t||!x||f||(0,l.Z)((()=>{y(!0),j=setTimeout((()=>{(0,E.j)({event_type:8900,view_type:24,view_parameter:261}),w((0,p.gH)(!1))}),2550)}))}),[t,x,f]);const b=()=>Math.max(Math.floor(window.innerWidth/200),2),S=i._("Personalizing your feed with...","Loading homefeed details","Loading homefeed details");return(0,m.jsx)(a.Z,{viewType:24,viewParameter:261,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(s.Z,{unsafeCSS:(0,c.Ll)(Z)}),(0,m.jsx)(h.xu,{color:"white",dangerouslySetInlineStyle:{__style:F(f)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(o.Z,{color:"darkGray",duration:5550,finalProgress:100}),(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"md",children:S})}),(()=>{const t=b(),i=Array(t).fill(d.DEFAULT_HEIGHT),n=(()=>{const t=b();if(!e.current)return null;const i=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:t},(e=>[]));for(let e=0;e<i.length;e+=1){const r=i[e].getBoundingClientRect();n[Math.round(r.left/(window.innerWidth/t))].push(r)}return n})(),r=_.map(((e,r)=>{const o=r%t,s=Math.floor(r/t),a=D[r%D.length],l=((e,t,i)=>{const n=b(),r=n+1,o=(window&&window.innerWidth-8*r)/n;return{left:e*o+8*(e+1),top:i,width:o,height:A[(e+t)%A.length]}})(o,s,i[o]),d=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const r=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:a,startAnimation:f,originDimension:l,destinationDimension:n&&n[o][s]});return i[o]+=8+l.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:4,dangerouslySetInlineStyle:{__style:R(f)},children:(0,m.jsx)(h.X6,{color:"white",size:"sm",children:e.name})})},r)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:r})})()]})})]})})}var N=i(925007),W=i(254965);const z=120;function H({enabled:e,onPull:t,refreshing:i}){const r=(0,u.ZP)(),[o,s]=(0,n.useState)(0),a=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){const t=.5*(e.touches[0].clientY-a.current);t>0&&(s(t),e.preventDefault())}},r=e=>{a.current&&(o>=z&&t(),a.current=null,s(0))};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",r),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",r)}}}),[e,t,o,i]);const l=i?0:o/z,d=Math.min(l,1),c=r._("Pull to refresh","Pull down on grid to refresh items","Pull down on grid to refresh items");return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:l*z,dangerouslySetInlineStyle:{__style:{opacity:d,transition:null===a.current?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:a.current&&o<z?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:c})})})}var O=i(487287),M=i(326869),B=i(379771),U=i(780363),$=i(524138),Y=i(198873),G=i(24391),V=i(89806),q=i(371974),K=i(733627),X=i(855168);function J(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Q=({isDesktop:e})=>{const t=(0,V.K)({isDesktop:e});return t?-t:0},ee=-2,te=Object.freeze({id:"FEED_BREAK_IN",type:"FEED_BREAK_IN"}),ie={},ne=e=>{ie[e]&&ie[e].handlePullToRefresh()},re=(e,t)=>e.slice(0,t).map((e=>e.id)),oe=()=>{const e="desktop"===(0,q.ZP)(),t=(0,V.K)({isDesktop:e}),i=t?-t:0;return(0,m.jsx)(h.xu,{marginTop:i,marginBottom:i,paddingY:t})};class se extends n.PureComponent{constructor(...e){super(...e),J(this,"state",{refreshing:!1,plpIds:(0,U.HW)().extraPlpIds,plpFeed:[]}),J(this,"backonlineAutoFetchResource",(()=>{this.props.feedResource.fetchMore()})),J(this,"onPinTouch",(e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}})),J(this,"handlePullToRefresh",(()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})})),J(this,"gridContainerRef",(0,n.createRef)()),J(this,"renderFeedPin",((e,t)=>{const{feedItemProps:i,history:n,isOneTapExploreLocalTab:r,location:o,renderSquarePins:s,showSeoMetadata:a,topLevelTrafficSource:l,topLevelTrafficSourceDepth:d,trafficSource:c,squarePins:p}=this.props,{auxData:u,componentType:h,feedback:x,imageOnly:g,impressionData:f,objectIdStr:y,oneTapSave:w,onFeedItemClick:_,onPinLinkClick:v,showSeoMetadata:j,viewData:b,viewParameter:S,viewType:I}=i||{},T=(o.search||"").includes("force_seo");return(0,m.jsx)(V.Z,{auxData:u,componentType:h||0,feedback:x,history:n,imageOnly:g,impressionData:f,isOneTapExploreLocalTab:r,isSquarePin:s||p,location:o,objectIdStr:y,oneTapSave:w,onPinClick:_,onPinLinkClick:v,pinId:e.id,showSeoMetadata:a||T||j,slotIndex:t,topLevelTrafficSource:l,topLevelTrafficSourceDepth:d,trackingParams:e.trackingParams,trafficSource:c,viewData:b,viewParameter:S,viewType:I||1})})),J(this,"renderFeedItem",(({data:e,itemIdx:t})=>{const{breakIn:i,prepend:n,feedItemProps:r,renderFeedItem:o,trafficSource:s}=this.props;if(o)return o(e,t);const{viewParameter:a,viewType:l}=r||{};switch(e.type){case"pin":return(0,m.jsx)(T.Z,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(I.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===s,viewParameter:a,viewType:l});case"board":return(0,m.jsx)(S.Z,{boardId:e.id,type:"grid",viewParameter:a,viewType:l});case"topic":return(0,m.jsx)(M.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:a,viewType:l});case"story":return"number"==typeof a?(0,m.jsx)(W.Z,{slotIndex:t,storyId:e.id,viewParameter:a,viewType:l||1}):null;case"FEED_BREAK_IN":return(null==i?void 0:i.content)||null;case"articlesLink":return(null==n?void 0:n.content)||null;default:return null}}))}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:t,feedItemProps:i}=this.props;if(e){const{viewParameter:e,viewType:t,auxData:n,componentType:r}=i||{},o={event_type:13};e&&(o.view_parameter=e),t&&(o.view_type=t),n&&(o.aux_data=n),r&&(o.component=r),(0,E.j)(o)}((e,t)=>{ie[e]=t})(t,this)}setPlpFeedData(e){const{feedItems:t,pins:i}=this.props,{plpIds:n}=this.state;if(e)return(0,Y.L_)($.zR),void this.setState({plpIds:[],plpFeed:[]});if(n.length>0&&t&&t.length>0){const e=n[0],r=i[e],o=t.slice(0,5).map((e=>e.id)).includes(e);r&&!o&&this.setState({plpFeed:[{id:n[0],type:"pin",trackingParams:t[0].trackingParams}].concat(t)})}}logHomefeedRefreshStats(e,t,i,n){const{locale:r}=this.props,{refreshing:o}=this.state;if(o&&t.isFetching&&!e.isFetching&&i&&i.length>0&&n&&n.length>0){const e=re(n,5),t=re(i,5),o={appType:"mweb",language:(r?r.slice(0,2):void 0)||"unknown",locale:r||"unknown"};k.Z.increment("home_product.homefeed.refresh",1,o),s=e,a=t,JSON.stringify(s)===JSON.stringify(a)&&k.Z.increment("home_product.homefeed.refresh.no_change",1,o)}var s,a}componentDidUpdate(e){const{feedItems:t}=e,{feedKey:i,feedItems:n}=this.props,{plpFeed:r,plpIds:o,refreshing:s}=this.state,a="homefeed"===i;s&&e.feedResource.isFetching&&!this.props.feedResource.isFetching&&this.setState({refreshing:!1}),a&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,n,t);const l=o.length>0;if(a&&l){const e=!!t&&t.length>0,i=!!n&&n.length>0,o=!e&&i,s=!!n&&n.length>0&&!!t&&t.length>0&&t[0]!==n[0],a=!!n&&n.length>0&&!!t&&t.length>0&&t[0]===n[0]&&t.length!==n.length,l=i&&!s&&0===r.length;(o||s||a||l)&&this.setPlpFeedData(s)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete ie[e]}renderFeedItems(e){const{breakIn:t,deviceType:i,emptyState:r,feedKey:o,feedResource:s,gridConfig:a,pullToRefresh:l,serverRender:d,showBizNuxHomefeedLoader:c,showNuxHomefeedLoader:p,trafficSource:u}=this.props,{key:x}=a||{},g=o+(x?`|${x}`:""),f="user_search"===u,y=f?window.innerWidth-16:200,w={columnWidth:"desktop"===i?K.PS:y,comp:this.renderFeedItem,gutterWidth:"desktop"===i?4*K.hF:void 0,loadItems:s.fetchMore,minCols:f?1:2,...a},_=!p&&!c&&s.isFetching&&0===e.length&&!this.state.refreshing,v=null==t?void 0:t.isFullWidth,j=v?e.slice(0,null==t?void 0:t.position):e,S=v?e.slice(null==t?void 0:t.position):[];let I,T,k;(o.includes("homefeed")||o.includes("search"))&&(I=!0,T=!0,k=Object.values(this.props.pins).length?Object.values(this.props.pins):void 0);const E="desktop"===i&&"flashlight"===u,D=E?0:K.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(H,{enabled:!!l,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:D,marginEnd:D,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(P.Z,{isAtEndOfFeed:s.isAtEnd,pinData:k,includeVideos:T,includeBackgroundImages:I,itemCount:e.length,children:e.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:Q({isDesktop:"desktop"===i}),children:(0,m.jsx)(O.Z.Consumer,{children:e=>(0,m.jsx)(n.Fragment,{children:(0,m.jsxs)(G.g,{children:[(0,m.jsx)(C.Z,{cacheKey:g,id:d?o:void 0,items:j,scrollContainerRef:e,serverRender:d,...w}),v&&(null==t?void 0:t.content),S.length>0&&(0,m.jsx)(C.Z,{cacheKey:`${g}_afterBreak`,items:S,scrollContainerRef:e,...w})]})})})}):s.isFetching?(0,m.jsx)(oe,{}):null!=r?r:null}),_&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(N.Z,{partialViewportWidth:E})}),p&&(0,m.jsx)(L,{homefeedLoading:s.isFetching,gridContainerRef:this.gridContainerRef}),c&&(0,m.jsx)(b,{homefeedLoading:s.isFetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:t,isAuthenticated:i}=this.props,{plpFeed:n}=this.state,r=e||[];return"homefeed"!==t?this.renderFeedItems(r):i&&n.length>0?this.renderFeedItems(n):this.renderFeedItems(r)}}function ae({resource:{error:e,...t},itemShouldBeExcluded:i,feedOffset:n,...o}){const{breakIn:s,prepend:a,feedKey:l}=o,d=(0,X.TH)(),c=(0,X.k6)(),u=(0,q.ZP)(),h=(0,r.useDispatch)(),{isAuthenticated:x,isBizNuxHomefeedLoadShown:g,isNuxHomefeedLoadShown:f,isSeoBot:y,locale:w}=(0,r.useSelector)((({session:e})=>e)),_=(0,r.useSelector)((({feeds:e})=>e[l])),v=(0,r.useSelector)((({pins:e})=>e)),j=(0,r.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux));"homefeed"===l&&_&&_.length>0&&j&&h((0,p.H5)(!1));let b=_;return b&&(s&&!s.isFullWidth&&_.length>=s.position&&(b=[..._.slice(0,s.position),te,..._.slice(s.position)]),a&&a.item&&"articlesLink"===a.item.type&&_.length>=3&&(b=[a.item,...b]),i&&(b=b.filter((e=>!i(e)))),n&&(b=b.slice(n))),(0,m.jsx)(se,{...o,deviceType:u,feedItems:b,feedResource:t,history:c,isAuthenticated:x,locale:w,location:d,pins:v,showBizNuxHomefeedLoader:!!g,showNuxHomefeedLoader:!!f,showSeoMetadata:y})}function le({resourceConfig:e,...t}){const i=(0,B.Z)(e);return(0,m.jsx)(ae,{...t,resource:i})}},531727:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),r=i(260245),o=i(883119),s=i(785893);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.PureComponent{constructor(...e){super(...e),a(this,"onScroll",(0,r.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter())}}),this.props.throttleTime||100)),a(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,s.jsx)(o.xu,{ref:e=>{this.anchorElement=e},children:e})}}const d=l},674590:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(682237),r=i(883119),o=i(785893);function s({title:{format:e,args:{query:t}}}){return(0,o.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,o.jsx)(r.xu,{marginBottom:2,paddingX:4,children:(0,o.jsx)(r.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,o.jsx)(n.Z,{navigateReplace:!1,query:t,showHeaderText:!1})]})}},14138:(e,t,i)=>{i.d(t,{Z:()=>_e});var n=i(460628),r=i.n(n),o=i(416131),s=i.n(o),a=i(483010),l=i.n(a),d=i(808310),c=i.n(d),p=i(963421),u=i.n(p),h=i(549658),m=i.n(h),x=i(275441),g=i.n(x),f=i(916611),y=i.n(f),w=i(344191),_=i.n(w),v=i(614860),j=i.n(v),b=i(317343),S=i.n(b),I=i(443140),T=i.n(I),k=i(522940),P=i.n(k),C=i(325634),E=i.n(C),D=i(204554),A=i.n(D),F=i(294700),R=i.n(F),Z=i(594701),L=i.n(Z),N=i(253833),W=i.n(N),z=i(495297),H=i.n(z),O=i(296875),M=i.n(O),B=i(231596),U=i.n(B),$=i(846653),Y=i.n($),G=i(47786),V=i.n(G),q=i(830866),K=i.n(q),X=i(375664),J=i.n(X),Q=i(214298),ee=i.n(Q),te=i(647887),ie=i.n(te),ne=i(114200),re=i.n(ne),oe=i(813150),se=i.n(oe),ae=i(246184),le=i.n(ae),de=i(935563),ce=i.n(de),pe=i(199081),ue=i.n(pe),he=i(671157),me=i.n(he),xe=i(710159),ge=i(347676),fe=i(883119),ye=i(785893);const we={"AR-SA":r(),"ZH-CN":ue(),"ZH-TW":me(),CS:s(),DA:l(),DE:c(),EL:u(),EN:m(),ES:g(),FI:y(),FR:_(),HI:j(),HU:S(),ID:T(),IT:P(),JA:E(),KO:A(),ML:R(),MS:L(),NB:M(),NL:W(),NN:H(),NO:M(),PL:U(),PT:Y(),RO:V(),RU:K(),SK:J(),SV:ee(),TH:ie(),TL:re(),TR:se(),UK:le(),VI:ce()};function _e({locale:e}){const t=(0,xe.ZP)(),i=(0,ge.G3)(e),n=we[i]||we.EN,r=t._("Install the Pinterest app on Android"," - "," -- ");return(0,ye.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:r})}},74578:(e,t,i)=>{i.d(t,{Z:()=>_e});var n=i(681384),r=i.n(n),o=i(747147),s=i.n(o),a=i(25078),l=i.n(a),d=i(622314),c=i.n(d),p=i(765409),u=i.n(p),h=i(690435),m=i.n(h),x=i(712627),g=i.n(x),f=i(387629),y=i.n(f),w=i(465843),_=i.n(w),v=i(951237),j=i.n(v),b=i(13820),S=i.n(b),I=i(990148),T=i.n(I),k=i(879191),P=i.n(k),C=i(59192),E=i.n(C),D=i(237258),A=i.n(D),F=i(424961),R=i.n(F),Z=i(436044),L=i.n(Z),N=i(206581),W=i.n(N),z=i(300633),H=i.n(z),O=i(690532),M=i.n(O),B=i(749406),U=i.n(B),$=i(370960),Y=i.n($),G=i(535389),V=i.n(G),q=i(590716),K=i.n(q),X=i(482925),J=i.n(X),Q=i(370216),ee=i.n(Q),te=i(926410),ie=i.n(te),ne=i(777172),re=i.n(ne),oe=i(305067),se=i.n(oe),ae=i(621216),le=i.n(ae),de=i(826132),ce=i.n(de),pe=i(729566),ue=i.n(pe),he=i(972841),me=i.n(he),xe=i(710159),ge=i(347676),fe=i(883119),ye=i(785893);const we={"AR-SA":r(),"ZH-CN":ue(),"ZH-TW":me(),CS:s(),DA:l(),DE:c(),EL:u(),EN:m(),ES:g(),FI:y(),FR:_(),HI:j(),HU:S(),ID:T(),IT:P(),JA:E(),KO:A(),ML:R(),MS:L(),NB:M(),NL:W(),NN:H(),NO:M(),PL:U(),PT:Y(),RO:V(),RU:K(),SK:J(),SV:ee(),TH:ie(),TL:re(),TR:se(),UK:le(),VI:ce()};function _e({locale:e}){const t=(0,xe.ZP)(),i=(0,ge.G3)(e),n=we[i]||we.EN,r=t._("Install the Pinterest app on iOS"," - "," -- ");return(0,ye.jsx)(fe.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:r})}},733627:(e,t,i)=>{i.d(t,{PS:()=>n,hF:()=>r,qG:()=>o});const n=236,r=4,o=-1},925007:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),r=i(443109),o=i(232387),s=i(371974),a=i(733627),l=i(883119),d=i(785893);const c="PinGridSkeletonLoader__tall",p="PinGridSkeletonLoader__short",u=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:p})}),h=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:2,children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,s.ZP)(),i=t?a.PS:175;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:p,height:150}].map((({name:e,height:t})=>(0,o.Z)({name:e,width:i,height:t}))).join("")}),(0,d.jsx)(l.xu,{marginStart:a.qG,marginEnd:a.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:a.hF,children:[(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(u,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(u,{size:"tall"}),(0,d.jsx)(u,{size:"short"}),(0,d.jsx)(u,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(u,{size:"short"}),(0,d.jsx)(u,{size:"tall"}),(0,d.jsx)(u,{size:"short"}),(0,d.jsx)(u,{size:"tall"})]})]})})]})}},232387:(e,t,i)=>{i.d(t,{Z:()=>n});const n=({name:e,width:t,height:i})=>{const n=`${i}${"number"==typeof i?"px":""}`,r="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${r} ${n};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${r}px 0;\n  }\n  100% {\n      background-position: ${r}px 0;\n  }\n}\n`}},158955:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(911439),r=i(883119),o=i(785893);function s({color:e,image:t,isSelected:i,title:s}){var a,l,d;return(0,o.jsxs)(r.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:(0,o.jsx)(r.Ee,{alt:s,color:e,fit:"cover",naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,o.jsx)(r.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(r.xv,{color:i?"white":(0,n.Yc)()?"lightGray":"darkGray",children:(0,o.jsx)("span",{style:{fontWeight:600},children:s})})})]})}},715505:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(911439),r=i(883119),o=i(785893);function s({guide:e,guidedQuery:t,isSlot0Style:i=!1,onClick:s}){const{dominant_color:a,display:l}=e,d=(0,o.jsx)(r.iP,{role:"link",onTap:s,tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:a,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(r.xv,{align:i?"start":"center",color:i?(0,n.Yc)()?"lightGray":"darkGray":"white",lineClamp:i?2:void 0,size:"md",weight:i?"normal":"bold",children:l})})});return i?d:(0,o.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:d})}var a=i(479712);const l=-1,d=0;function c({guides:e,isSlot0Style:t=!1,query:i}){const n=({position:e,term:t})=>e===l?t:e===d?`${t} ${i}`:`${i} ${t}`,c=e=>()=>{(0,a.U3)({searchScope:"pins",searchTerm:e,rs:"guide"})},p=()=>e.map((e=>(0,o.jsx)(s,{guide:e,guidedQuery:n(e),isSlot0Style:t,onClick:c(i)},e.display)));return t?(0,o.jsx)(r.xu,{padding:2,children:(0,o.jsx)(r.kC,{width:"100%",gap:1,direction:"column",alignItems:"start",children:p()})}):(0,o.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:p()})})}},927679:(e,t,i)=>{i.d(t,{e:()=>p,Z:()=>m});var n=i(40142),r=i(263116),o=i(474809),s=i(154569),a=i(974937),l=i(883119),d=i(785893);const c=(0,r.ZP)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(58922)]).then(i.bind(i,222073)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 222073}}),p=Object.freeze({white:"white",black:"darkGray"}),u={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,d.jsx)(c,{fallback:(0,d.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),aspectRatio:a.q4,controls:!1,poster:i||t.metadata.thumbnail,src:t.url})}function m({buttonAction:e,buttonCustomization:t,buttonText:i,experienceId:r,hideCompleteButton:c,imageAlt:p,imageUrl:m,openNewTab:x,placementId:g,storyType:f,titleText:y,titleTextColor:w,titleTextCustomization:_,videoPin:v,videoPlaceholderImage:j}){const b=(0,n.useDispatch)(),S=(0,a.zn)(f),I=S?s.f8:s.hm,T=S?s.sH:s.HI,k=!S,{color:P,fontStyle:C,fontWeight:E,horizontalAlignment:D,fontSize:A}=(0,a.Mf)(_||{},"mweb"),{button_background_color:F,button_text_color:R}=t||{};return(0,d.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,children:(0,d.jsxs)(l.rU,{accessibilityLabel:y,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),"number"==typeof r&&"number"==typeof g&&b((0,o.CK)(g,r,!1,!0))},target:x?"blank":null,children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===f&&v?(0,d.jsx)(h,{titleText:y,videoPin:v,videoPlaceholderImage:j}):m&&(0,d.jsx)(l.Ee,{alt:p||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:m,fit:"cover"})}),k&&(0,d.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:u.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,d.jsx)(I,{children:(0,d.jsx)(l.xv,{align:D,color:w,italic:"italics"===C,weight:E,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!=P?P:void 0,fontSize:A}},children:y})})})]})}),!c&&(0,d.jsx)(T,{children:(0,d.jsx)(l.xu,{display:"flex",rounding:"pill",color:S?"white":"lightGray",dangerouslySetInlineStyle:{__style:{backgroundColor:F}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,d.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:R}},children:i})})})})]})})}},744332:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(40142),o=i(394465),s=i(89806),a=i(414229),l=i(477783),d=i(883119),c=i(855168),p=i(785893);function u({auxData:e,slotIndex:t,storyId:i,trafficSource:u,viewParameter:h,viewType:m}){const x=(0,r.useSelector)((({stories:e,pins:t})=>e[i].objects.map((e=>t[e.id])))),g=(0,r.useSelector)((({stories:e})=>e[i])),{action:f,story_type:y,title:w}=g,_=x.map((({type:e,id:t})=>e+":"+t)).join("|"),v={story_type:y,story_id:i,content_ids:_,...e},j=(0,c.k6)(),b=(0,c.TH)();return(0,p.jsx)(a.Hs,{loggingId:i,objectIdStr:i,viewParameter:h,viewType:m,slotIndex:t,component:200,auxData:v,children:(0,p.jsxs)(n.Fragment,{children:[w&&(0,p.jsx)(d.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(d.xv,{weight:"bold",children:w.format})}),(0,p.jsx)(d.kC,{wrap:!0,children:x.map((e=>(0,p.jsx)(d.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,p.jsx)(s.Z,{auxData:v,componentType:0,history:j,location:b,pinId:e.id,slotIndex:t,trafficSource:u,viewParameter:h,viewType:m})},e.id)))}),f&&f.url&&(0,p.jsx)(d.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(d.zx,{role:"link",accessibilityLabel:f.text,color:"gray",onClick:()=>{(0,l.So)({view_type:m,view_parameter:h,aux_data:v})},text:f.text,href:f.url,rel:(0,o.Z)(f.url)?"nofollow":void 0,target:(0,o.Z)(f.url)?"blank":void 0,size:"md"})})]})})}},254965:(e,t,i)=>{i.d(t,{Z:()=>ye});var n=i(40142),r=i(667294),o=i(151994),s=i(14138),a=i(74578),l=i(710159),d=i(198873),c=i(112978),p=i(883119),u=i(785893);function h(){const e=(0,l.ZP)(),t=(0,c.tc)("mweb_hf_story_app_upsell2"),{locale:i,userAgentPlatform:h}=(0,n.useSelector)((({session:e})=>e));(0,r.useEffect)((()=>{"enabled_no_double"===t().group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const m="ios"===h;return(0,u.jsxs)(p.xu,{color:"blue",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,u.jsx)(p.xv,{color:"inverse",weight:"bold",children:m?e._("Pinterest works best if you switch to our iPhone app","app upsell","app upsell"):e._("Pinterest works best if you switch to our Android app","app upsell","app upsell")}),(0,u.jsx)(p.xu,{marginTop:3,children:(0,u.jsx)(o.Z,{within:"app-upsell-story",children:({handleOpenApp:e})=>(0,u.jsx)(p.iP,{onTap:()=>e({deepLinkUri:"/"}),children:m?(0,u.jsx)(a.Z,{locale:i}):(0,u.jsx)(s.Z,{locale:i})})})})]})}var m=i(117167);const x={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function g({buttonAction:e,buttonText:t,imageUrl:i,brands:r}){const o=(0,n.useSelector)((({users:e})=>e)),s=r.slice(0,3).map((e=>{var t,i;return{name:null!==(t=o[e.id].username)&&void 0!==t?t:"",src:null!==(i=o[e.id].image_medium_url)&&void 0!==i?i:""}}));return(0,u.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,u.jsxs)(m.MZ,{to:e,children:[(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,u.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:i&&(0,u.jsx)(p.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:i,fit:"cover"})}),(0,u.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:x.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,u.jsx)(p.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,u.jsx)(p.xu,{width:24*(2*s.length+1),height:64,children:(0,u.jsx)(p.HE,{accessibilityLabel:"",collaborators:s})})})]})}),(0,u.jsx)(p.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"lightGray",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,u.jsx)(p.xv,{weight:"bold",children:(0,u.jsx)(p.xu,{children:t})})})]})})}var f=i(680200),y=i(674590);const w="49.5%";function _({buttonAction:e,buttonText:t,colors:i}){const r=(0,n.useSelector)((({pins:e})=>i.slice(0,4).map((t=>{var i;return{...null===(i=e[t.id].images)||void 0===i?void 0:i["736x"],title:e[t.id].description}}))));if(i.length<4)return null;const o=e=>{var t,i,n,r;return(0,u.jsx)(p.xu,{width:w,height:"100%",children:(0,u.jsx)(p.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(n=e.width)&&void 0!==n?n:1,src:null!==(r=e.url)&&void 0!==r?r:"",fit:"cover"})})};return(0,u.jsx)(p.xu,{position:"relative",padding:1,marginBottom:2,children:(0,u.jsxs)(m.MZ,{to:e,children:[(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,u.jsx)(p.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[r.slice(0,2),r.slice(2,4)].map((e=>(0,u.jsx)(p.kC,{width:"100%",height:w,justifyContent:"between",children:e.map(o)})))})})}),(0,u.jsx)(p.xu,{width:"100%",display:"flex",rounding:"pill",color:"lightGray",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,u.jsx)(p.xv,{weight:"bold",children:(0,u.jsx)(p.xu,{children:t})})})]})})}var v=i(156575);const j=(0,n.connect)((({pins:e,users:t},i)=>({pin:e[i.id],user:e[i.id]&&t[e[i.id].pinner]})),(()=>({})))((({isFirstChild:e,pin:t,user:i})=>{var n;if(!t)return null;const r=null===(n=t.images)||void 0===n?void 0:n["170x"];if(!r)return null;const{full_name:o,image_medium_url:s}=i||{},{dominant_color:a}=t,{height:l,width:d,url:c}=r;return(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,u.jsxs)(p.xu,{position:"relative",children:[(0,u.jsx)(p.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,u.jsx)(p.Ee,{alt:t.title||"",color:null!=a?a:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),s&&(0,u.jsx)(p.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,u.jsx)(v.Z,{name:null!=o?o:"",src:s})})})]})})}));function b({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,u.jsx)(p.xu,{height:174,overflow:"hidden",width:"100%",children:(0,u.jsx)(p.xu,{overflow:"scroll",children:(0,u.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,u.jsx)(j,{id:e,isFirstChild:0===t},e)))})})})}var S=i(899695),I=i(414229),T=i(477783);const k="creator_spotlight_";class P extends r.PureComponent{render(){const{id:e,story:t}=this.props;if(!t||"social_seasonal_pin"===t.story_type)return null;const{button_text:i,objects:n,story_type:r,subtitle:o,title:s,background_colour:a,display_options:l}=t,{title_text_color:d,subtitle_text_color:c}=l;if(!r.startsWith(k)||!n||n.length<3)return null;const h=`/creator-spotlight/${r.slice(k.length)}`;return(0,u.jsx)(p.xu,{marginBottom:3,children:(0,u.jsx)(I.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:r},children:(0,u.jsx)(p.iP,{onTap:()=>{(0,T.So)({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:r}})},tapStyle:"none",role:"link",href:h,rounding:2,children:(0,u.jsx)(p.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:a}},children:(0,u.jsx)(p.xu,{width:"100%",height:"100%",children:(0,u.jsxs)(p.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!o||!!s)&&(0,u.jsxs)(p.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[s&&s.format&&(0,u.jsx)(p.X6,{size:"sm",children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{color:d}},children:s.format})}),o&&o.format&&(0,u.jsx)(p.xv,{align:"center",children:(0,u.jsx)(p.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:c}},children:o.format})})]}),(0,u.jsx)(p.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,u.jsx)(b,{pinIds:n.map((e=>e.id))})}),i&&i.format&&(0,u.jsx)(p.xu,{display:"inlineBlock",children:(0,u.jsx)(S.Z,{pressState:"compress",children:(0,u.jsx)(p.xu,{color:"red",rounding:"pill",position:"relative",children:(0,u.jsx)(p.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(p.xv,{color:"inverse",weight:"bold",children:i.format})})})})})]})})})})})})}}const C=(0,n.connect)((({stories:e},{id:t})=>({story:e[t]})),(()=>({})))(P);var E=i(711530),D=i(855571),A=i(855168);function F({pin:e,width:t,height:i,showDivider:n}){var r,o,s,a,l,d,c;const h=null===(r=e.images)||void 0===r?void 0:r["236x"];return(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,u.jsx)(p.GH,{contentAspectRatio:(null!==(o=null==h?void 0:h.width)&&void 0!==o?o:1)/(null!==(s=null==h?void 0:h.height)&&void 0!==s?s:1),height:i,width:t,children:(0,u.jsx)(p.Ee,{alt:null!==(a=e.description)&&void 0!==a?a:"",naturalWidth:null!==(l=null==h?void 0:h.width)&&void 0!==l?l:1,naturalHeight:null!==(d=null==h?void 0:h.height)&&void 0!==d?d:1,src:null!==(c=null==h?void 0:h.url)&&void 0!==c?c:""})})})}const R=(0,A.EN)((function({storyId:e,slotIndex:t,history:i,location:o}){const s=(0,D.Z)(),a=(0,c.tc)(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth"),[l,d]=(0,r.useState)(0),h=(0,r.useRef)();(0,r.useLayoutEffect)((()=>{const e=h.current;e&&d(e.offsetWidth)}),[]);const m=(0,n.useSelector)((({stories:t})=>t[e])),x=(0,n.useSelector)((({pins:e})=>m.objects.map((t=>e[t.id])))).slice(0,2),{story_type:g,action:f}=m,y=`${o.pathname}products/${o.search}`,w=()=>{(0,T.So)({component:200,view_parameter:3050,view_type:72}),i.push(y)};return a().anyEnabled?(0,u.jsx)(I.qS,{auxData:{story_type:g,content_ids:x.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,u.jsx)(p.xu,{padding:2,ref:e,children:(0,u.jsx)(p.zd,{rounding:2,children:(0,u.jsxs)(p.iP,{onTap:w,children:[(0,u.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"lightGray",children:x.map(((e,t)=>(0,u.jsx)(F,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,u.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,u.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,u.jsx)(p.xv,{weight:"bold",children:f.text})})})})]})})}):(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,u.jsx)(I.Hs,{auxData:{story_type:g,content_ids:x.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,u.jsx)(p.xu,{padding:2,children:(0,u.jsx)(p.zd,{rounding:2,children:(0,u.jsxs)(p.iP,{onTap:w,children:[(0,u.jsx)(p.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"lightGray",children:x.map(((e,t)=>(0,u.jsx)(F,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,u.jsx)(p.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,u.jsx)(p.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,u.jsx)(p.xv,{weight:"bold",children:f.text})})})})]})})}):(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:h})})}));var Z=i(855936),L=i(744332),N=i(548217);const W=["shop_tab_upsell","user_style_story_v2"];function z({auxData:e,slotIndex:t,storyId:i,storyType:r,trafficSource:o,viewParameter:s,viewType:a}){const l=(0,n.useSelector)((({stories:e})=>{var t;return null===(t=e[i].objects[0])||void 0===t?void 0:t.schema})),d=(0,n.useSelector)((({stories:e})=>{var t;return null===(t=e[i])||void 0===t?void 0:t.title}));if(W.includes(r))return(0,u.jsx)(Z.Z,{auxData:e,slotIndex:t,storyId:i,storyType:r,viewParameter:s,viewType:a});switch(l){case"pin":return(0,u.jsx)(L.Z,{auxData:e,slotIndex:t,storyId:i,trafficSource:o,viewParameter:s,viewType:a});case"article":return(0,u.jsx)(f.Z,{auxData:e,pattern:[N.U.extra_small],slotIndex:t,storyId:i,viewParameter:s,viewType:a});default:return d&&(0,u.jsx)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,u.jsx)(p.xv,{weight:"bold",children:d.format})})}}var H=i(81029);function O({slotIndex:e,storyId:t,exactMatch:i=!1}){const o=(0,D.Z)(),s=(0,c.tc)(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth"),{action:a,aux_fields:l,objects:d,story_type:h,title:m}=(0,n.useSelector)((({stories:e})=>e[t])),x=d[0].id,g=(0,n.useSelector)((({pins:e})=>d.slice(1,3).map((({id:t})=>e[t]))));return!i&&g.length<2?null:s().anyEnabled?(0,u.jsx)(I.qS,{auxData:{content_ids:g.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,u.jsxs)(p.xu,{ref:e,children:[m&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:m.format})}),(0,u.jsx)(H.Z,{action:a,auxData:l,isPinnerAuthorityHero:i,userId:x,userPins:i?void 0:g,userSearchRepStyle:i,viewParameter:43,viewType:2})]})}):(0,u.jsx)(I.Hs,{auxData:{content_ids:g.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,u.jsxs)(r.Fragment,{children:[m&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:m.format})}),(0,u.jsx)(H.Z,{action:a,auxData:l,isPinnerAuthorityHero:i,userId:x,userPins:i?void 0:g,userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}var M=i(715505),B=i(498177);const U=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],$=e=>U[e.charCodeAt(0)%U.length];function Y({guides:e,storyId:t,slotIndex:i,title:n}){var o;const s=(0,D.Z)(),a=(0,c.tc)(s?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth"),l=null!==(o=(0,B.mB)((0,A.TH)().search).q)&&void 0!==o?o:"";return a().anyEnabled?(0,u.jsx)(I.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,u.jsxs)(p.xu,{ref:t,children:[n&&n.format&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:n.format})}),(0,u.jsx)(M.Z,{guides:e.map((e=>({display:e.display,dominant_color:$(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,u.jsx)(I.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:(0,u.jsxs)(r.Fragment,{children:[n&&n.format&&(0,u.jsx)(p.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(p.xv,{align:"center",children:n.format})}),(0,u.jsx)(M.Z,{guides:e.map((e=>({display:e.display,dominant_color:$(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}class G extends r.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:i,pin_image:n,pin_image_gif:r,user_name:o,board_name:s,header_background_color:a,textIconColor:l}=e,d=a||"orchid",c=this.props.i18n._("Take a look","Button text asking users to take a look at Seasonal pages","Button text asking users to take a look at Seasonal pages"),h=o&&s?`/${o}/${s}`:"/pinterestindonesia/happy-halloween/",x=i||"unknown",g=r||n||"",f=l||"white";return(0,u.jsx)(p.zd,{rounding:2,children:(0,u.jsx)(p.xu,{padding:3,children:(0,u.jsx)(m.MZ,{to:h,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,u.jsx)(p.xu,{children:(0,u.jsx)(p.xu,{display:"flex",margin:-1,height:t,children:(0,u.jsx)(p.xu,{width:"100%",children:(0,u.jsxs)(p.zd,{rounding:2,height:"100%",children:[(0,u.jsx)(p.xu,{height:t,children:(0,u.jsx)(p.Ee,{alt:x,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:g})}),(0,u.jsx)(p.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,u.jsx)(p.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,u.jsx)(p.xv,{color:f,weight:"bold",children:x})}),(0,u.jsx)(p.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,u.jsx)(p.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const V=(0,n.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,u.jsx)(G,{...e,i18n:t})}));var q=i(702707);function K({storyId:e,viewParameter:t,viewType:i}){const o=(0,n.useSelector)((({stories:t})=>t[e])),s=(0,n.useSelector)((({session:e})=>e.isTablet)),a=o.objects;return(0,r.useEffect)((()=>{(0,T.j)({event_type:9024,view_type:i,view_parameter:t})}),[]),o?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(p.iz,{}),(0,u.jsxs)(p.xu,{paddingY:1,children:[(0,u.jsx)(p.xu,{paddingY:2,marginTop:3,children:(0,u.jsx)(p.X6,{align:"center",size:"sm",children:o.title.format})}),1===a.length?(0,u.jsx)(p.xu,{width:s?400:"auto",paddingY:2,margin:"auto",children:(0,u.jsx)(q.Z,{id:a[0].id,gridIndex:0,viewParameter:t,viewType:i})}):(0,u.jsx)(p.xu,{overflow:"auto",children:(0,u.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:a.map(((e,n)=>(0,u.jsx)(p.xu,{width:s?400:"80vw",marginStart:0===n?0:2,paddingY:2,children:(0,u.jsx)(q.Z,{id:e.id,gridIndex:n,viewParameter:t,viewType:i})},e.id)))})})]})]}):null}var X=i(540690);const J=(0,n.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const i=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,u.jsx)(p.zd,{wash:!0,height:se,width:se,children:(0,u.jsx)(p.xu,{height:se,position:"relative",width:se,children:(0,u.jsx)(p.Ee,{alt:e.description||"",src:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var Q=i(749050),ee=i(414021),te=i(123686),ie=i(911439),ne=i(458552);const re=(0,n.connect)(((e,t)=>({pin:e.pins[t.pinId]})),(()=>({})))((({pin:e,shouldRoundPrice:t,showSalePrice:i})=>{const n=(0,l.ZP)();if(!e)return null;const{pinProduct:r}=(0,ne.Fi)({i18n:n,pin:e,useGridTitleOrRichSummary:!1});if(!r||!r.price)return null;const o=r.price||r.max_price,s=r.standard_price,a=/^(\$\d+)(\.?\d\d)*$/g,d=s&&a.exec(s),c=a.exec(o),h=(0,ie.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",m=(0,ie.Yc)()?"white":"darkGray";return(0,u.jsxs)(p.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:h,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[i&&d&&(0,u.jsxs)(p.xv,{align:"center",size:"sm",weight:"bold",color:"subtle",inline:!0,children:[(0,u.jsx)("s",{children:(0,te.nk)("{{ priceRounded }}",{priceRounded:d[1]})})," "]}),(0,u.jsx)(p.xv,{align:"center",size:"sm",weight:"bold",color:m,inline:!0,children:(i&&s||t)&&c&&c[1]?(0,te.nk)("{{ priceRounded }}",{priceRounded:c[1]}):o})]})}));var oe=i(222729);const se=114;function ae({handleClick:e,isVerifiedMerchant:t,marginTop:i=12,pins:n,showVerifiedBadge:r,showVerifiedIdentityBadge:o,storyAction:s,storyType:a,title:l,viewParameter:d,trackingParams:c}){const h=(0,A.k6)(),{text:m}=s||{};return(0,u.jsxs)(p.xu,{marginTop:i,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[l&&(0,u.jsxs)(p.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,u.jsx)(p.xv,{weight:"bold",children:l}),r&&(0,u.jsx)(p.xu,{marginStart:1,children:(0,u.jsx)(oe.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:o})})]}),(0,u.jsx)(p.xu,{display:"flex",marginTop:4,justifyContent:"center",children:n.map(((e,t)=>(0,u.jsx)(I.GR,{viewType:3,loggingId:e.id,viewParameter:d,component:me[a],auxData:{commerce_data:(0,Q.Z)(e)},slotIndex:t,children:(0,u.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:se,children:(0,u.jsxs)(p.iP,{onTap:()=>(e=>{const t=(0,ee.Z)(c,e.tracking_params);(0,T.j)({component:me[a],event_type:8948,view_type:3,view_parameter:d,object_id_str:e.id,clientTrackingParams:t,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",cosmic_ray_count:"5"}}),h.push(`/pin/${e.id}/`,{trackingParams:c})})(e),children:[(0,u.jsx)(J,{id:e.id}),(0,u.jsx)(p.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,u.jsx)(re,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),m&&(0,u.jsx)(p.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,u.jsx)(p.zx,{onClick:e,size:"lg",text:m})})]})}var le=i(513124);function de({componentType:e,handleClick:t,isVerifiedMerchant:i,marginTop:n,objects:o,showVerifiedBadge:s,showVerifiedIdentityBadge:a,storyAction:l,storyType:d,title:c,viewParameter:p,trackingParams:h}){const[m,x]=(0,r.useState)(!1);if(!o||!Array.isArray(o))return null;const g=o.filter((e=>"pin"===e.schema));if(g.length<3)return null;const f=Array.from(new Array(3)).map(((e,t)=>g[t]));return(0,u.jsx)(le.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:i}=t[0];i>0&&!m&&((0,T.j)({event_type:3400,view_type:3,view_parameter:p,component:e}),x(!0))},children:(0,u.jsx)(ae,{handleClick:t,isVerifiedMerchant:i,marginTop:n,pins:f,showVerifiedBadge:s,showVerifiedIdentityBadge:a,storyAction:l,storyType:d,title:c,viewParameter:p,trackingParams:h})})}var ce=i(531727);const pe=()=>{};function ue({marginTop:e=12,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,relatedPinsTitleRef:n,title:o}){return o?(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(p.xu,{marginTop:e,marginBottom:2,ref:n,children:(0,u.jsx)(ce.Z,{onEnter:t||pe,onExit:i||pe,children:(0,u.jsx)(p.xv,{size:"lg",align:"center",weight:"bold",children:o})})})}):null}const he=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],me={related_domain_collage:13327,related_products_collage:13176,related_products_feed_header:13176};const xe=function(e){var t,i;const{marginTop:o,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:a,pin:l,relatedPinsTitleRef:d,searchQuery:h,slotIndex:m,storyId:x,trafficSource:g,viewType:f,viewParameter:y}=e,w=(0,D.Z)(),_=(0,c.tc)(w?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth"),v=(0,A.k6)(),j=null==l?void 0:l.is_eligible_for_pdp,b=(0,r.useMemo)((()=>j?8:0===o||o?o:12),[o,j]),S=(0,n.useSelector)((({stories:e})=>e[x]));if(!S)return null;const{action:k,content_ids:P,objects:C,story_type:E,title:{format:F},tracking_params:R}=S,Z=me[E];if("related_modules_header"===E||"related_products_feed_header"===E)return _().anyEnabled?(0,u.jsx)(I.qS,{auxData:{story_id:x,story_type:E},loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:y,viewType:f,component:Z,children:({impressionTrackerRef:e})=>(0,u.jsx)(p.xu,{ref:e,children:(0,u.jsx)(ue,{marginTop:b,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:a,relatedPinsTitleRef:d,title:F})})}):(0,u.jsx)(I.Hs,{auxData:{story_id:x,story_type:E},loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:y,viewType:f,component:Z,children:(0,u.jsx)(ue,{marginTop:b,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:a,relatedPinsTitleRef:d,title:F})});const{id:L}=l||{},{url:N}=k||{};if(!l||!L||!N)return null;const W=function(e,t){const i=e?`q=${e}`:null,n=t&&"unknown"!==t?`rs=${t}`:null;let r="";return i&&n?r=`?${i}&${n}`:!i&&n&&(r=`?${n}`),r}(h,g);let z=`${N}${W}`;"related_products_collage"===E&&(z=W?`/pin/${L}/visual-search/${W}source=shopping&tab=1`:`/pin/${L}/visual-search/?source=shopping&tab=1`);const H=(P||[]).map((e=>`pin:${e}`)).join("|"),O=()=>{(0,T.So)({view_type:3,view_parameter:y,component:Z,aux_data:{contentIds:H,story_id:x,story_type:E}}),v.push(z)};let M,B;if("related_domain_collage"===E){var U;const e=(null===(U=l.link_domain)||void 0===U?void 0:U.official_user)||{};M=e.is_verified_merchant,B=e.verified_identity}return _().anyEnabled?(0,u.jsx)(I.qS,{auxData:{content_ids:H,story_id:x,story_type:E},component:Z,loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:y,viewType:f,children:({impressionTrackerRef:e})=>{var t,i;return(0,u.jsx)(p.xu,{ref:e,children:(0,u.jsx)(de,{componentType:Z,handleClick:O,isVerifiedMerchant:M,objects:C,showVerifiedBadge:M||(null===(t=B)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!M&&(null===(i=B)||void 0===i?void 0:i.verified),storyAction:k,title:F,viewParameter:y,trackingParams:R,storyType:E,marginTop:b})})}}):(0,u.jsx)(I.Hs,{auxData:{content_ids:H,story_id:x,story_type:E},component:Z,loggingId:x,objectIdStr:x,slotIndex:m,viewParameter:y,viewType:f,children:(0,u.jsx)(de,{componentType:Z,handleClick:O,isVerifiedMerchant:M,objects:C,showVerifiedBadge:M||(null===(t=B)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!M&&(null===(i=B)||void 0===i?void 0:i.verified),storyAction:k,title:F,viewParameter:y,trackingParams:R,storyType:E,marginTop:b})})};var ge=i(927679);const fe=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"];function ye({auxData:e,fullWidth:t,marginTop:i,onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:o,pin:s,relatedPinsTitleRef:a,slotIndex:l,storyId:d,trafficSource:c,viewParameter:m,viewType:x}){const w=(0,n.useSelector)((({stories:e})=>e[d])),v=(0,X.Z)();if(!w||!w.story_type)return null;const{action:j,container_type:b,custom_properties:S,display_options:I,experience:T,story_type:k,title:P,objects:D}=w;if(t)return fe.includes(k)&&0===I.num_columns_requested?(0,u.jsx)(p.xu,{marginBottom:5,children:(0,u.jsx)(z,{auxData:e,slotIndex:l,storyId:d,storyType:k,trafficSource:c,viewParameter:m,viewType:x})}):k.startsWith("creator_spotlight_")?(0,u.jsx)(p.xu,{marginBottom:5,children:(0,u.jsx)(C,{id:d})}):he.includes(k)?(0,u.jsx)(xe,{onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:o,pin:s,relatedPinsTitleRef:a,storyId:d,slotIndex:l,viewParameter:m,viewType:x,marginTop:i}):k.startsWith("related_articles")?(0,u.jsx)(K,{storyId:d,viewType:x,viewParameter:m}):k.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,u.jsx)(y.Z,{title:P}):k.startsWith("search_pinner_authority_hero")?(0,u.jsx)(O,{storyId:d,slotIndex:0,exactMatch:!0}):null;if(fe.includes(k)&&0===I.num_columns_requested)return null;switch(b){case 56:return(0,u.jsx)(p.xu,{padding:2,children:(0,u.jsx)(f.Z,{slotIndex:l,storyId:d,viewType:x,viewParameter:m})})}switch(k){case"app_upsell":return v?(0,u.jsx)(E.Z,{experience:T,eligibleIds:[T.experience_id],children:(0,u.jsx)(h,{})}):null;case"feed_card_default":case"feed_card_video":return(0,u.jsx)(E.Z,{experience:T,eligibleIds:[T.experience_id],isBackendExperience:!0,children:(0,u.jsx)(ge.Z,{buttonAction:j.url,buttonCustomization:S.button_customization,buttonText:j.text,experienceId:T.experience_id,hideCompleteButton:S.hide_complete_button,imageAlt:S.image_alt,imageUrl:S.image,openNewTab:S.open_new_tab,placementId:T.placement_id,storyType:k,titleText:P.format,titleTextColor:ge.e[I.title_text_color],titleTextCustomization:S.title_text_customization,videoPin:S.video_pin,videoPlaceholderImage:S.video_placeholder_image})});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,u.jsx)(ge.Z,{buttonAction:j.url,buttonText:j.text,imageAlt:S.image_alt,imageUrl:S.image,storyType:k,titleText:P.format,titleTextColor:ge.e[I.title_text_color]});case"user_brand_story_v1":return(0,u.jsx)(g,{buttonAction:j.url,buttonText:j.text,imageUrl:S.image,brands:D});case"user_color_story_v1":return(0,u.jsx)(_,{buttonAction:j.url,buttonText:j.text,colors:D});case"BUBBLE_ONE_COL":return(0,u.jsx)(p.xu,{padding:2,children:(0,u.jsx)(f.Z,{slotIndex:l,storyId:d,viewType:x,viewParameter:m})});case"social_seasonal_pin":return(0,u.jsx)(V,{slotIndex:l,storyId:d,viewType:x,viewParameter:m,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,u.jsx)(O,{storyId:d,slotIndex:l});case"stela_in_flashlight_onecol":return(0,u.jsx)(R,{storyId:d,slotIndex:l});case"search_guides":return(0,u.jsx)(Y,{guides:w.objects,slotIndex:l,storyId:d,title:P});default:return null}}},680200:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(40142),o=i(35706),s=i(394465),a=i(414229),l=i(477783),d=i(390346),c=i(883119),p=i(785893);function u(e){const{auxData:t,pattern:i,slotIndex:u,storyId:h,viewType:m,viewParameter:x}=e,g=(0,r.useSelector)((({stories:e,articles:t,users:i})=>e[h].objects.map((e=>{const n=t[e.id];return n.curator&&"string"==typeof n.curator?{...n,curator:i[n.curator]}:n})))),f=(0,r.useSelector)((({stories:e})=>e[h])),{story_type:y,referring_source:w,title:_,display_options:v,action:j}=f,{identifier_icon_name:b}=v||{},S=g.map((({type:e,id:t})=>e+":"+t)).join("|"),I={story_type:y,story_id:h,content_ids:S,...t};return(0,p.jsx)(a.Hs,{loggingId:h,objectIdStr:h,viewParameter:x,viewType:m,slotIndex:u,component:200,auxData:I,children:(0,p.jsxs)(n.Fragment,{children:[_&&(0,p.jsxs)(c.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof b&&b!==d.J&&(0,p.jsx)(c.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(c.JO,{accessibilityLabel:"",color:"darkGray",icon:(0,d.Z)(b),size:14})}),(0,p.jsx)(c.xv,{weight:"bold",children:_.format})]}),(0,p.jsx)(o.Z,{bubbles:g,pattern:i,referringSource:w,storyId:h,storyType:y,viewParameter:x,viewType:m}),j&&j.url&&(0,p.jsx)(c.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(c.zx,{role:"link",accessibilityLabel:j.text,color:"gray",onClick:()=>{(0,l.So)({view_type:m,view_parameter:x,aux_data:I})},text:j.text,href:j.url,rel:(0,s.Z)(j.url)?"nofollow":void 0,target:(0,s.Z)(j.url)?"blank":void 0,size:"md"})})]})})}},855936:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(40142),r=i(891758),o=i(265328),s=i(883119),a=i(785893);function l({auxData:e,slotIndex:t,storyId:i,storyType:l,viewParameter:d,viewType:c}){var p;const u=(0,n.useSelector)((({stories:e})=>e[i])),{action:h,display_options:m,objects:x,title:g}=u,f=null==m||null===(p=m.content_display)||void 0===p?void 0:p.component_type,y=(null==e?void 0:e.entered_query)||"",w={entered_query:y,grid_index:t,story_id:i,story_type:l},_=(0,o.Z)({componentType:f,contextLogData:w,impressionType:"Story",loggingId:i,slotIndex:t,viewParameter:d,viewType:c}),v=(0,n.useSelector)((({articles:e})=>x.map((t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}))));return(0,a.jsxs)(s.xu,{ref:_,children:[g&&(0,a.jsx)(s.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,a.jsx)(s.xv,{weight:"bold",children:g.format})}),(0,a.jsx)(r.Z,{action:h,bubbles:v,component:f,query:y,storyId:i,storyType:l,viewParameter:d,viewType:c})]})}},326869:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(40142),r=i(302338),o=i(158955),s=i(710159),a=i(564327),l=i(883119),d=i(795194),c=i(785893);const p=({decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:r,nameTextSize:d,renderAsPill:p,showFollowerCount:u,topic:h,topicBlob:m,topicInfoForContextualExp:x})=>{var g;const f=(0,s.ZP)(),y=(0,a.Z)(),w=x||h||m||{},_=w.images["236x"]||w.images["400x"]||w.images["474x"]||w.images.orig||{height:1,url:"",width:1},v=w.follower_count||-1,j=(0,c.jsx)(l.JO,{accessibilityLabel:f._("Selected"," - "," -- "),color:"white",icon:i?"check":"check-circle",size:i?12:24});return p?(0,c.jsx)(o.Z,{color:w.background_color||"#767676",image:_,isSelected:n,title:w.name}):(0,c.jsxs)(l.xu,{position:"relative","aria-selected":n,children:[(0,c.jsx)(l.zd,{rounding:i||t?4:2,children:(0,c.jsxs)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,c.jsx)(l.xu,{bottom:!0,left:!0,padding:i&&n?1:0,position:"absolute",right:!0,rounding:i&&n?4:0,top:!0,children:(0,c.jsx)(l.Ee,{alt:w.name,color:w.background_color||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(g=_.url)&&void 0!==g?g:""})}),(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&n?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&n&&(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?(0,c.jsx)(l.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,c.jsx)(l.xv,{align:"center",color:"inverse",size:d,weight:"bold",children:w.name})}):(0,c.jsxs)(l.xu,{bottom:!0,left:!0,padding:e?1:2,position:"absolute",right:!0,children:[(0,c.jsx)(l.xv,{color:"inverse",size:d,weight:"bold",children:w.name}),u&&v>=0&&(0,c.jsx)(l.xu,{paddingY:1,children:(0,c.jsxs)(l.xv,{color:"inverse",size:"sm",children:[(0,c.jsx)(l.xv,{color:"inverse",inline:!0,size:"sm",weight:"bold",children:y(r,v,{shortform:!0,shortform_maximum_fraction_digits:1})}),f._("followers"," - "," -- ")]})})]}),n&&(0,c.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,c.jsx)(l.xu,{alignItems:"center",color:"darkGray",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:j}):j})]})},u=({decreaseNamePadding:e=!1,id:t,isHomefeedTuner:i,isLego:o,isSelected:s=!1,linkDestination:a="topics",nameTextSize:u="lg",onTouch:h,padding:m=2,renderAsPill:x,showFollowButton:g=!1,showFollowerCount:f=!1,shouldClickthrough:y=!1,topicBlob:w,topicInfoForContextualExp:_,viewParameter:v,viewType:j})=>{const b=(0,n.useDispatch)(),S=(0,n.useSelector)((({topics:e})=>e[t])),I=(0,n.useSelector)((({session:e})=>e.locale)),T=(0,c.jsxs)(l.xu,{"data-test-id":"nux-picker-topic",children:[(0,c.jsx)(p,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:o,isSelected:s,locale:I,nameTextSize:u,renderAsPill:x,showFollowerCount:f,topic:S,topicBlob:w,topicInfoForContextualExp:_}),!!S&&g&&(0,c.jsx)(l.xu,{paddingY:2,children:(0,c.jsx)(r.Z,{shouldShowAddRemoveText:i,followEventType:601,id:S.id,invertColors:i,isFollowed:S.is_followed||!1,onFollow:e=>b((0,d.ZN)(e)),onUnfollow:e=>b((0,d.fv)(e)),size:"md",unfollowEventType:602,viewParameter:v||void 0,viewType:j||void 0})})]});let k="/";return S&&("explore"===a?k=`/explore/${encodeURIComponent(S.slug)}`:["topic","topics"].includes(a)?k=`/topics/${S.id}`:"ideas"===a?k=`/ideas/${encodeURIComponent(S.slug)}/${S.id}`:"search"===a&&(k=`/search/pins/?rs=ac&q=${encodeURIComponent(S.slug)}`)),y&&null!=S&&S.slug?(0,c.jsx)(l.iP,{role:"link",onTap:({event:e})=>{null==h||h(e)},tapStyle:"compress",rounding:2,href:k,children:(0,c.jsx)(l.xu,{padding:m,children:T})}):T}},81029:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),r=i(40142),o=i(156575),s=i(302338),a=i(394465),l=i(710159),d=i(883119),c=i(785893);const p={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},u=({height:e,image:t,width:i})=>{var n,r,o;const s=(0,l.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:i,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:s._("pin image","alt text for pin image","alt text for pin image"),color:t.dominant_color||void 0,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,src:null!==(o=t.url)&&void 0!==o?o:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p,height:e,width:i,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"lightGray",width:i,height:e})})};var h=i(564327),m=i(707169),x=i(117167),g=i(123686),f=i(477783),y=i(414229),w=i(277901);function _({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:p=!1,onFollowUser:_,onUnfollowUser:v,userId:j,userPins:b,viewParameter:S,viewType:I,truncateName:T=!1}){const k=(0,l.ZP)(),P=(0,h.Z)(),C=(0,r.useDispatch)(),{locale:E}=(0,r.useSelector)((({session:e})=>e)),[D,A]=(0,n.useState)(p?window.innerWidth-16:null),F=(0,r.useSelector)((({users:e})=>e[j])),{contextual_pin_image_urls:R,explicitly_followed_by_me:Z,follower_count:L=0,full_name:N,image_medium_url:W,is_verified_merchant:z,recent_pin_images:H,username:O,verified_identity:M}=F,B=e=>D?(D-(e-1))/e:0,U=p?1.6*B(4):117,$=(null==b?void 0:b.map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],Y=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let G=(null==R?void 0:R["222x"])||(null==R?void 0:R["192x"])||[];i&&0===G.length&&(G=Y);const V=p&&G.length<=0;let q=p?G.concat(Y).slice(0,4):$.concat(Y).slice(0,2);0===q.length&&(q=[void 0,void 0]);const K=!V&&(D?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:q.map(((e,t)=>(0,c.jsx)(u,{height:U,image:e,width:B(q.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:U,ref:e=>{e&&A(e.offsetWidth)},width:"100%"})),X=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(o.Z,{outline:!0,name:null!=N?N:"",src:null!=W?W:""})})}),J=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:1,alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(p?(D||0)/2:D)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:T?1:void 0,children:z||null!=M&&M.verified?(0,c.jsx)(m.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=N?N:"",verifiedType:z?"verifiedMerchant":"verifiedIdentity",truncate:T}):N})}),(0,c.jsx)(d.xv,{inline:!0,size:"sm",align:e,children:(0,g.nk)(k.ngettext("{{followers}} follower","{{followers}} followers",L,"PinnerAuthority.followersCount","Count of a user's followers"),{followers:P(E,L,{shortform:!0})})})]}),Q=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{(0,f.j)({event_type:9029,object_id_str:j,view_type:I,view_parameter:S,aux_data:t})},rel:(0,a.Z)({url:e.url})?"nofollow":void 0,target:(0,a.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(s.Z,{id:j,isSecondaryButton:!0,isFollowed:Z,onFollow:e=>{_&&_(),C((0,w.ZN)(e))},onUnfollow:e=>{v&&v(),C((0,w.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:S,viewType:I})});return(0,c.jsx)(y.Cy,{loggingId:j,objectIdStr:j,slotIndex:0,viewParameter:S,viewType:I,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(x.MZ,{to:`/${O}/`,onTouch:()=>{return e=j,void(0,f.j)({event_type:43,object_id_str:e,view_parameter:S,view_type:I});var e},children:(0,c.jsxs)(d.kC,{direction:"column",gap:2,width:"100%",children:[K,p?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:2,children:[X(),J("start")]}),Q]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:2,children:[X(-10),J("center"),Q]})]})})})})}},780363:(e,t,i)=>{i.d(t,{HW:()=>a,Es:()=>l,mv:()=>d,DZ:()=>c});var n=i(198873),r=i(524138);const o=e=>e>=Date.now()-72e5,s=(e,t)=>{const i=[];if(e)for(const n of e)t&&!n.is_shared||o(n.ts)&&i.push(n);return i},a=()=>{const e=(0,n.qn)(r.zR),t=e?JSON.parse(e):[],i=s(t,!1),a=s(t,!0),l=i.map((e=>e.first_pin_image_signature)),d=i.map((e=>e.pin_id)),c=a.map((e=>e.first_pin_image_signature)),p=(e=>{const t={};if(e)for(const i of e)i.is_shared&&o(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(t),u=(0,n.qn)(r.dy),h=u?JSON.parse(u):[];return{extraPlpImages:l,plpImageRenderData:i,extraPlpIds:d,extraBlpImages:s(h,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:p}},l=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){if(e[i].id!==t[i].id)return!1}return!0},d=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),c=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null},795194:(e,t,i)=>{i.d(t,{hr:()=>d,ZN:()=>c,fv:()=>p,fm:()=>u,bJ:()=>h,lD:()=>m});var n=i(724207),r=i(164711),o=i(689783),s=i(782677),a=i(138365);function l(e,t){return n.ZP.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const d=(e,t)=>({type:a.K0,payload:{id:e,value:t}}),c=(e,t)=>i=>{l(e,t).callCreate().catch((()=>i(d(e,!1)))),i(d(e,!0))},p=(e,t)=>i=>{l(e,t).callDelete().catch((()=>i(d(e,!0)))),i(d(e,!1))},u=e=>t=>{const i="NuxTopicToCreatorsResource";return n.ZP.create(i,{topicId:e}).callGet().then((n=>{const a=(0,s.Fv)(n.resource_response.data,r.Z[i]);return t((0,o.Sr)(i,{topicId:e},n,a,!1,void 0)),n.resource_response.data}))},h=e=>t=>{const i=e.reduce(((e,t)=>(e[t.id]=!t.is_followed,e)),{});return n.ZP.create("UpdateFollowedInterestsResource",{updated_interest_follows:i}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:i})=>{t(d(e,!i))}))}))},m=e=>t=>n.ZP.create("UpdateFollowedInterestsResource",{updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((i=>{const n=e[i];t(d(i,n))}))}))},678391:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),r=i(883119),o=i(785893);function s({color:e="red",duration:t,finalProgress:i,shape:s="pill"}){const[a,l]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===s;return(0,o.jsx)(r.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${i}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${a?"-5px":"-100%"})`:`scaleX(${a?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},950889:(e,t,i)=>{i.d(t,{CC:()=>n,XF:()=>r,Ll:()=>o});const n=(e,t)=>((e,t,i)=>({x:Math.floor(e*Math.cos(i)),y:Math.floor(t*Math.sin(i))}))(t/2,e/2,2*Math.random()*Math.PI),r=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},711530:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),r=i(40142),o=i(474809),s=i(624561);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),a(this,"state",{hasCompleted:[],hasDismissed:[]}),a(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:r}=this.props;e&&(t?r(e):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))})),a(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:r,preventRemoval:o,targeting:s}=this.props,a=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:l}=n||{},d=o||2===a;(1===a||d)&&e&&l&&(r?i(n,d):s?t(e,l,d,s):t(e,l,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),a(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:r,targeting:o}=this.props,{placement_id:s,experience_id:a}=i||{};i&&!this.state.hasDismissed.includes(a)&&(n?t(i):o?e(s,a,!!r,o):e(s,a,!!r),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),a(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:r}=this.props,{experience_id:o,type:s}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(i&&i.includes(s))return!0;if(r&&r===s)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}a(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const d=(0,r.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,i,n,r)=>e((0,o.CK)(t,i,n,!1,{},r)),completeExperienceObject:(t,i)=>e((0,s.Tl)(t,i)),dismissExperience:(t,i,n,r)=>e((0,o.Qu)(t,i,n,void 0,r)),dismissExperienceObject:t=>e((0,s.CF)(t)),viewExperience:(t,i,n)=>e((0,o.UT)(t,i,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,s.dy)(t))})))(l)},624561:(e,t,i)=>{i.d(t,{Tl:()=>s,CF:()=>a,dy:()=>l});var n=i(724207),r=i(474809);const o=(e,t)=>(i,o)=>s=>{if(i&&i.id){const a=n.ZP.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{s((0,r.fO)())}));break;case"completed":a.callUpdate().then((()=>{o||s((0,r.fO)())}));break;case"viewed":a.callUpdate()}}},s=o("UserExperienceCompletedResource","completed"),a=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},154569:(e,t,i)=>{i.d(t,{sH:()=>o,HI:()=>s,hm:()=>a,f8:()=>l});var n=i(883119),r=i(785893);const o=({children:e})=>(0,r.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),s=({children:e})=>(0,r.jsx)(n.xu,{padding:2,children:e}),a=({children:e})=>(0,r.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,r.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},974937:(e,t,i)=>{i.d(t,{zn:()=>n,q4:()=>r,Mf:()=>w});const n=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,{LEFT:o,CENTER:s,RIGHT:a}={LEFT:0,CENTER:1,RIGHT:2},l={[o]:"start",[s]:"center",[a]:"end"},{SMALL:d,MEDIUM:c,LARGE:p}={SMALL:0,MEDIUM:1,LARGE:2,EXTRA_LARGE:3},u={web:{[d]:"16",[c]:"20",[p]:"24"},mweb:{[d]:"12",[c]:"16",[p]:"18"}},{ITALICS:h,NORMAL:m}={NORMAL:0,ITALICS:1},x={[h]:"italics",[m]:"normal"},{BOLD:g,NORMAL:f}={NORMAL:0,BOLD:1},y={[g]:"bold",[f]:"normal"},w=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:r},o)=>({color:e,fontStyle:x[null!=t?t:0],fontWeight:y[null!=i?i:1],horizontalAlignment:l[null!=n?n:0],fontSize:u[o][null!=r?r:0]+"px"})},559729:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(53330),r=i(667294),o=i(328865),s=i(388492);function a({children:e,isAtEndOfFeed:t,pinData:i,itemCount:a,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,o.EV)(),i=(0,r.useRef)(null);(0,r.useEffect)((()=>{e!==i.current&&(i.current=e,t&&(0,s.ZP)(s.at))}),[!!t,e])}(a),e}},487287:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17138-9fae469028892284.mjs.map